local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

local UI_TOGGLE_KEY = Enum.KeyCode.M
local panelVisible = false
local prevMouseBehavior, prevMouseIconEnabled
local spectating, savedSubject, savedCamType
local selectedPlayer
local playerButtons = {}

local function getPrimaryPart(char)
	if not char then return nil end
	return char.PrimaryPart or char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso")
end

local FlySystem = {
    flying = false,
    noclip = false,
    speed = 50,
    bodyGyro = nil,
    bodyVelocity = nil,
    control = {F = 0, B = 0, L = 0, R = 0, U = 0, D = 0}
}

function FlySystem:toggleFly()
    self.flying = not self.flying
    local character = LocalPlayer.Character
    if not character then return end
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
    if not humanoidRootPart then return end

    if self.flying then
        self.bodyGyro = Instance.new("BodyGyro", humanoidRootPart)
        self.bodyGyro.MaxTorque = Vector3.new(400000, 400000, 400000)
        self.bodyGyro.D = 1000
        self.bodyGyro.CFrame = humanoidRootPart.CFrame
        self.bodyVelocity = Instance.new("BodyVelocity", humanoidRootPart)
        self.bodyVelocity.MaxForce = Vector3.new(400000, 400000, 400000)
        self.bodyVelocity.Velocity = Vector3.new(0, 0, 0)
    else
        if self.bodyGyro then self.bodyGyro:Destroy() end
        if self.bodyVelocity then self.bodyVelocity:Destroy() end
        self.bodyGyro = nil
        self.bodyVelocity = nil
    end
end

function FlySystem:disableFly()
    if self.flying then
        self.flying = false
        if self.bodyGyro then self.bodyGyro:Destroy() end
        if self.bodyVelocity then self.bodyVelocity:Destroy() end
        self.bodyGyro = nil
        self.bodyVelocity = nil
    end
end

function FlySystem:toggleNoclip()
    self.noclip = not self.noclip
end

function FlySystem:setupControls()
    UserInputService.InputBegan:Connect(function(input, gpe)
        if gpe then return end
        if input.KeyCode == Enum.KeyCode.W then self.control.F = 1 end
        if input.KeyCode == Enum.KeyCode.S then self.control.B = 1 end
        if input.KeyCode == Enum.KeyCode.A then self.control.L = 1 end
        if input.KeyCode == Enum.KeyCode.D then self.control.R = 1 end
        if input.KeyCode == Enum.KeyCode.Space then self.control.U = 1 end
        if input.KeyCode == Enum.KeyCode.LeftControl then self.control.D = 1 end
    end)
    UserInputService.InputEnded:Connect(function(input, gpe)
        if gpe then return end
        if input.KeyCode == Enum.KeyCode.W then self.control.F = 0 end
        if input.KeyCode == Enum.KeyCode.S then self.control.B = 0 end
        if input.KeyCode == Enum.KeyCode.A then self.control.L = 0 end
        if input.KeyCode == Enum.KeyCode.D then self.control.R = 0 end
        if input.KeyCode == Enum.KeyCode.Space then self.control.U = 0 end
        if input.KeyCode == Enum.KeyCode.LeftControl then self.control.D = 0 end
    end)
end

function FlySystem:startLoop()
    RunService.RenderStepped:Connect(function()
        local character = LocalPlayer.Character
        if not character then return end
        local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
        if not humanoidRootPart then return end

        if self.noclip then
            for _, v in pairs(character:GetDescendants()) do
                if v:IsA("BasePart") and v.CanCollide == true then
                    v.CanCollide = false
                end
            end
        end

        if self.flying and humanoidRootPart then
            local cam = workspace.CurrentCamera
            local moveVec = Vector3.zero
            local forward = cam.CFrame.LookVector
            local right = cam.CFrame.RightVector
            local up = Vector3.new(0, 1, 0)
            moveVec = moveVec + forward * (self.control.F - self.control.B) + right * (self.control.R - self.control.L) + up * (self.control.U - self.control.D)
            if moveVec.Magnitude > 0 then
                moveVec = moveVec.Unit * self.speed
                humanoidRootPart.CFrame = humanoidRootPart.CFrame + moveVec
            end
        end
    end)
end

function FlySystem:init()
    self:setupControls()
    self:startLoop()
end

local function startSpectate(p)
    if not p or p == LocalPlayer then return end
    local targetChar = p.Character
    if not targetChar then return end
    local hum = targetChar:FindFirstChildOfClass("Humanoid")
    if not hum then return end
    if not savedSubject then savedSubject = Camera.CameraSubject end
    if not savedCamType then savedCamType = Camera.CameraType end
    Camera.CameraType = Enum.CameraType.Custom
    Camera.CameraSubject = hum
    spectating = p
end

local function stopSpectate()
    if savedSubject then Camera.CameraSubject = savedSubject end
    if savedCamType then Camera.CameraType = savedCamType end
    spectating = nil
end

local function instantTPTo(targetPlayer)
	if not targetPlayer or targetPlayer == LocalPlayer then return end
	local char = LocalPlayer.Character
	local targetChar = targetPlayer.Character
	if not char or not targetChar then return end
	local srcPart = getPrimaryPart(char)
	local dstPart = getPrimaryPart(targetChar)
	if not srcPart or not dstPart then return end
	char:PivotTo(CFrame.new(dstPart.Position + Vector3.new(0,3,0)))
end

repeat task.wait() until LocalPlayer:FindFirstChild("PlayerGui")

local gui = Instance.new("ScreenGui")
gui.Name = "AdminPanel"
gui.ResetOnSpawn = false
gui.Parent = LocalPlayer.PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.fromOffset(950, 650)
frame.Position = UDim2.new(0.5, -475, 0.5, -325)
frame.BackgroundColor3 = Color3.fromRGB(15,15,20)
frame.Active = true
frame.Draggable = true
frame.Visible = false
frame.Parent = gui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 20)

local frameStroke = Instance.new("UIStroke")
frameStroke.Color = Color3.fromRGB(139, 92, 246)
frameStroke.Thickness = 3
frameStroke.Transparency = 0.3
frameStroke.Parent = frame

local shadow = Instance.new("ImageLabel")
shadow.Size = UDim2.new(1, 30, 1, 30)
shadow.Position = UDim2.new(0, -15, 0, -15)
shadow.BackgroundTransparency = 1
shadow.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"
shadow.ImageColor3 = Color3.fromRGB(0,0,0)
shadow.ImageTransparency = 0.7
shadow.ZIndex = 0
shadow.Parent = frame

local header = Instance.new("Frame")
header.Size = UDim2.new(1, 0, 0, 80)
header.BackgroundColor3 = Color3.fromRGB(139, 92, 246)
header.BorderSizePixel = 0
header.Parent = frame
local headerGradient = Instance.new("UIGradient")
headerGradient.Color = ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.fromRGB(139, 92, 246)), ColorSequenceKeypoint.new(1, Color3.fromRGB(109, 62, 216))}
headerGradient.Rotation = 45
headerGradient.Parent = header
local headerCorner = Instance.new("UICorner")
headerCorner.CornerRadius = UDim.new(0, 20)
headerCorner.Parent = header
local headerCover = Instance.new("Frame")
headerCover.Size = UDim2.new(1, 0, 0, 35)
headerCover.Position = UDim2.new(0, 0, 1, -35)
headerCover.BackgroundColor3 = Color3.fromRGB(139, 92, 246)
headerCover.BorderSizePixel = 0
headerCover.Parent = header
local headerCoverGradient = Instance.new("UIGradient")
headerCoverGradient.Color = ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.fromRGB(139, 92, 246)), ColorSequenceKeypoint.new(1, Color3.fromRGB(109, 62, 216))}
headerCoverGradient.Rotation = 45
headerCoverGradient.Parent = headerCover

local titleIcon = Instance.new("TextLabel")
titleIcon.Size = UDim2.new(0, 55, 0, 55)
titleIcon.Position = UDim2.new(0, 18, 0, 12)
titleIcon.BackgroundColor3 = Color3.fromRGB(255,255,255)
titleIcon.BackgroundTransparency = 0.9
titleIcon.Text = "‚ö°"
titleIcon.Font = Enum.Font.GothamBold
titleIcon.TextSize = 32
titleIcon.TextColor3 = Color3.fromRGB(255,255,255)
titleIcon.Parent = header
Instance.new("UICorner", titleIcon).CornerRadius = UDim.new(0, 14)
local iconStroke = Instance.new("UIStroke", titleIcon)
iconStroke.Color = Color3.fromRGB(255,255,255)
iconStroke.Thickness = 2
iconStroke.Transparency = 0.7

local title = Instance.new("TextLabel")
title.BackgroundTransparency = 1
title.Size = UDim2.new(1, -140, 1, 0)
title.Position = UDim2.new(0, 82, 0, 0)
title.Font = Enum.Font.GothamBold
title.TextSize = 26
title.TextColor3 = Color3.new(1,1,1)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Text = "CASAIS SCRIPTER"
title.Parent = header
local titleStroke = Instance.new("UIStroke", title)
titleStroke.Color = Color3.fromRGB(0,0,0)
titleStroke.Thickness = 1
titleStroke.Transparency = 0.5

local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.fromOffset(50, 50)
closeBtn.Position = UDim2.new(1, -65, 0, 15)
closeBtn.Text = "‚úï"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 22
closeBtn.BackgroundColor3 = Color3.fromRGB(239, 68, 68)
closeBtn.TextColor3 = Color3.fromRGB(255,255,255)
closeBtn.Parent = header
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 12)
local closeBtnStroke = Instance.new("UIStroke", closeBtn)
closeBtnStroke.Color = Color3.fromRGB(200, 40, 40)
closeBtnStroke.Thickness = 2
closeBtnStroke.Transparency = 0.5oseBtn.TextSize = 22
closeBtn.BackgroundColor3 = Color3.fromRGB(239, 68, 68)
closeBtn.TextColor3 = Color3.fromRGB(255,255,255)
closeBtn.Parent = header
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 12)
local closeBtnStroke = Instance.new("UIStroke", closeBtn)
closeBtnStroke.Color = Color3.fromRGB(200, 40, 40)
closeBtnStroke.Thickness = 2
closeBtnStroke.Transparency = 0.5

local tabs = Instance.new("ScrollingFrame")
tabs.Size = UDim2.new(0, 165, 1, -100)
tabs.Position = UDim2.new(0, 18, 0, 90)
tabs.BackgroundColor3 = Color3.fromRGB(20,20,28)
tabs.BorderSizePixel = 0
tabs.ScrollBarThickness = 5
tabs.CanvasSize = UDim2.new(0,0,0,0)
tabs.AutomaticCanvasSize = Enum.AutomaticSize.Y
tabs.Parent = frame
Instance.new("UICorner", tabs).CornerRadius = UDim.new(0, 14)
local tabsStroke = Instance.new("UIStroke", tabs)
tabsStroke.Color = Color3.fromRGB(40,40,50)
tabsStroke.Thickness = 1
tabsStroke.Transparency = 0.5
local tabsLayout = Instance.new("UIListLayout", tabs)
tabsLayout.Padding = UDim.new(0,10)
tabsLayout.SortOrder = Enum.SortOrder.LayoutOrder
local tabsPadding = Instance.new("UIPadding", tabs)
tabsPadding.PaddingTop = UDim.new(0,8)
tabsPadding.PaddingBottom = UDim.new(0,8)
tabsPadding.PaddingLeft = UDim.new(0,8)
tabsPadding.PaddingRight = UDim.new(0,8)

local function makeTab(text, order)
	local b = Instance.new("TextButton")
	b.Size = UDim2.new(1, -8, 0, 55)
	b.Text = text
	b.Font = Enum.Font.GothamBold
	b.TextSize = 15
	b.BackgroundColor3 = Color3.fromRGB(28,28,38)
	b.TextColor3 = Color3.fromRGB(160,160,170)
	b.LayoutOrder = order
	b.Parent = tabs
	local corner = Instance.new("UICorner", b)
	corner.CornerRadius = UDim.new(0, 14)
	local stroke = Instance.new("UIStroke", b)
	stroke.Color = Color3.fromRGB(45,45,55)
	stroke.Thickness = 2
	stroke.Transparency = 0.6
	local gradient = Instance.new("UIGradient", b)
	gradient.Color = ColorSequence.new{ColorSequenceKeypoint.new(0, Color3.fromRGB(28,28,38)), ColorSequenceKeypoint.new(1, Color3.fromRGB(22,22,32))}
	gradient.Rotation = 90
	return b
end

local tabPlayers = makeTab("üë• JOGADORES", 1)
local tabMovement = makeTab("üöÄ MOVIMENTO", 2)
local tabAimbot = makeTab("üéØ AIMBOT", 3)
local tabClicker = makeTab("üñ±Ô∏è CLICKER", 4)
local tabVision = makeTab("üëÅÔ∏è VIS√ÉO", 5)
local tabMisc = makeTab("‚öôÔ∏è MISC", 6)

local pages = Instance.new("Frame")
pages.Size = UDim2.new(1, -205, 1, -100)
pages.Position = UDim2.new(0, 193, 0, 90)
pages.BackgroundTransparency = 1
pages.Parent = frame

local function makePage()
	local p=Instance.new("ScrollingFrame")
	p.Size=UDim2.fromScale(1,1)
	p.BackgroundTransparency=1
	p.BorderSizePixel=0
	p.ScrollBarThickness=6
	p.CanvasSize=UDim2.new(0,0,0,0)
	p.AutomaticCanvasSize=Enum.AutomaticSize.Y
	p.Visible=false
	p.Parent=pages
	local layout=Instance.new("UIListLayout",p)
	layout.Padding=UDim.new(0,10)
	layout.SortOrder=Enum.SortOrder.LayoutOrder
	return p
end

local playersPage = makePage(); playersPage.Visible = true
local movementPage = makePage()
local aimbotPage = makePage()
local clickerPage = makePage()
local visionPage = makePage()
local miscPage = makePage()

local aimbotEnabled = false
local aimbotFOV = 80
local aimbotTarget = "Head"
local aimbotKey = Enum.UserInputType.MouseButton2
local aimbotKeyName = "Bot√£o Direito"
local aimbotSmooth = 5
local aimbotMaxDist = 500
local fovCircle = nil
local waitingForKey = false

local autoClickerEnabled = false
local autoClickerSpeed = 50
local autoClickerKey = Enum.KeyCode.C
local autoClickerKeyName = "C"
local waitingForClickerKey = false
local lastClickTime = 0

local function getClosestPlayer()
	local closestPlayer = nil
	local shortestDistance = aimbotFOV
	local mousePos = UserInputService:GetMouseLocation()
	
	for _, player in ipairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character then
			if LocalPlayer.Team and player.Team and LocalPlayer.Team == player.Team then
				continue
			end
			
			local char = player.Character
			local hum = char:FindFirstChildOfClass("Humanoid")
			if hum and hum.Health > 0 then
				local targetPart = char:FindFirstChild(aimbotTarget)
				if targetPart then
					local myChar = LocalPlayer.Character
					if myChar then
						local myRoot = myChar:FindFirstChild("HumanoidRootPart")
						if myRoot then
							local dist3D = (targetPart.Position - myRoot.Position).Magnitude
							if dist3D > aimbotMaxDist then continue end
						end
					end
					
					local screenPos, onScreen = Camera:WorldToViewportPoint(targetPart.Position)
					if onScreen and screenPos.Z > 0 then
						local distance = (Vector2.new(screenPos.X, screenPos.Y) - mousePos).Magnitude
						if distance < shortestDistance then
							shortestDistance = distance
							closestPlayer = player
						end
					end
				end
			end
		end
	end
	
	return closestPlayer
end

RunService.RenderStepped:Connect(function()
	pcall(function()
		if aimbotEnabled then
			if not fovCircle then
				fovCircle = Drawing.new("Circle")
				fovCircle.Thickness = 2
				fovCircle.NumSides = 50
				fovCircle.Filled = false
				fovCircle.Transparency = 1
				fovCircle.Color = Color3.fromRGB(255, 70, 70)
			end
			
			if fovCircle then
				local mousePos = UserInputService:GetMouseLocation()
				fovCircle.Position = mousePos
				fovCircle.Radius = aimbotFOV
				fovCircle.Visible = true
			end
			
			local isKeyPressed = false
			if aimbotKey == Enum.UserInputType.MouseButton2 then
				isKeyPressed = UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton2)
			elseif aimbotKey == Enum.UserInputType.MouseButton1 then
				isKeyPressed = UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)
			else
				isKeyPressed = UserInputService:IsKeyDown(aimbotKey)
			end
			
			if isKeyPressed then
				local target = getClosestPlayer()
				if target and target.Character then
					local hum = target.Character:FindFirstChildOfClass("Humanoid")
					if hum and hum.Health > 0 then
						local targetPart = target.Character:FindFirstChild(aimbotTarget)
						if targetPart then
							local targetPos = targetPart.Position
							local currentCFrame = Camera.CFrame
							local targetCFrame = CFrame.new(currentCFrame.Position, targetPos)
							local smoothValue = math.max(aimbotSmooth, 1)
							Camera.CFrame = currentCFrame:Lerp(targetCFrame, 1 / smoothValue)
						end
					end
				end
			end
		else
			if fovCircle then 
				fovCircle.Visible = false 
			end
		end
	end)
end)

RunService.Heartbeat:Connect(function()
	if autoClickerEnabled then
		local currentTime = tick()
		if currentTime - lastClickTime >= autoClickerSpeed / 1000 then
			pcall(function()
				local VirtualInputManager = game:GetService("VirtualInputManager")
				VirtualInputManager:SendMouseButtonEvent(0, 0, 0, true, game, 0)
				VirtualInputManager:SendMouseButtonEvent(0, 0, 0, false, game, 0)
			end)
			lastClickTime = currentTime
		end
	end
end)

aimbotPage:FindFirstChildOfClass("UIListLayout"):Destroy()

local aimbotMainCard = Instance.new("Frame")
aimbotMainCard.Size = UDim2.new(1, 0, 0, 280)
aimbotMainCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
aimbotMainCard.Parent = aimbotPage
Instance.new("UICorner", aimbotMainCard).CornerRadius = UDim.new(0, 12)
local aimbotStroke = Instance.new("UIStroke", aimbotMainCard)
aimbotStroke.Color = Color3.fromRGB(255, 70, 70)
aimbotStroke.Thickness = 2
aimbotStroke.Transparency = 0.7

local aimbotIcon = Instance.new("TextLabel")
aimbotIcon.Size = UDim2.new(0, 40, 0, 40)
aimbotIcon.Position = UDim2.new(0, 12, 0, 12)
aimbotIcon.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
aimbotIcon.BackgroundTransparency = 0.8
aimbotIcon.Text = "üéØ"
aimbotIcon.Font = Enum.Font.GothamBold
aimbotIcon.TextSize = 20
aimbotIcon.TextColor3 = Color3.fromRGB(255,255,255)
aimbotIcon.Parent = aimbotMainCard
Instance.new("UICorner", aimbotIcon).CornerRadius = UDim.new(0, 10)

local aimbotTitle = Instance.new("TextLabel")
aimbotTitle.Size = UDim2.new(1, -140, 0, 20)
aimbotTitle.Position = UDim2.new(0, 60, 0, 15)
aimbotTitle.BackgroundTransparency = 1
aimbotTitle.Font = Enum.Font.GothamBold
aimbotTitle.TextSize = 15
aimbotTitle.TextColor3 = Color3.fromRGB(255,255,255)
aimbotTitle.TextXAlignment = Enum.TextXAlignment.Left
aimbotTitle.Text = "AIMBOT"
aimbotTitle.Parent = aimbotMainCard

local aimbotSubtitle = Instance.new("TextLabel")
aimbotSubtitle.Size = UDim2.new(1, -140, 0, 16)
aimbotSubtitle.Position = UDim2.new(0, 60, 0, 35)
aimbotSubtitle.BackgroundTransparency = 1
aimbotSubtitle.Font = Enum.Font.Gotham
aimbotSubtitle.TextSize = 11
aimbotSubtitle.TextColor3 = Color3.fromRGB(150,150,160)
aimbotSubtitle.TextXAlignment = Enum.TextXAlignment.Left
aimbotSubtitle.Text = "Mira autom√°tica nos inimigos"
aimbotSubtitle.Parent = aimbotMainCard

local aimbotToggle = Instance.new("TextButton")
aimbotToggle.Parent = aimbotMainCard
aimbotToggle.Size = UDim2.new(0, 100, 0, 32)
aimbotToggle.Position = UDim2.new(1, -110, 0, 14)
aimbotToggle.Text = "OFF"
aimbotToggle.TextSize = 13
aimbotToggle.Font = Enum.Font.GothamBold
aimbotToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
aimbotToggle.TextColor3 = Color3.fromRGB(255,255,255)
Instance.new("UICorner", aimbotToggle).CornerRadius = UDim.new(0, 10)
aimbotToggle.MouseButton1Click:Connect(function()
	aimbotEnabled = not aimbotEnabled
	aimbotToggle.Text = aimbotEnabled and "ON" or "OFF"
	aimbotToggle.BackgroundColor3 = aimbotEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

local function createFOVSlider()
	local container = Instance.new("Frame")
	container.Size = UDim2.new(1, -24, 0, 60)
	container.Position = UDim2.new(0, 12, 0, 60)
	container.BackgroundTransparency = 1
	container.Parent = aimbotMainCard

	local label = Instance.new("TextLabel")
	label.Size = UDim2.new(0.5, -5, 0, 20)
	label.Position = UDim2.new(0, 0, 0, 0)
	label.BackgroundTransparency = 1
	label.Font = Enum.Font.GothamBold
	label.TextSize = 12
	label.TextColor3 = Color3.fromRGB(200,200,200)
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.Text = "FOV"
	label.Parent = container

	local valueLabel = Instance.new("TextLabel")
	valueLabel.Size = UDim2.new(0, 50, 0, 20)
	valueLabel.Position = UDim2.new(1, -50, 0, 0)
	valueLabel.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
	valueLabel.Font = Enum.Font.GothamBold
	valueLabel.TextSize = 12
	valueLabel.TextColor3 = Color3.fromRGB(255,255,255)
	valueLabel.Text = tostring(aimbotFOV)
	valueLabel.Parent = container
	Instance.new("UICorner", valueLabel).CornerRadius = UDim.new(0, 6)

	local sliderBg = Instance.new("Frame")
	sliderBg.Size = UDim2.new(1, 0, 0, 8)
	sliderBg.Position = UDim2.new(0, 0, 0, 30)
	sliderBg.BackgroundColor3 = Color3.fromRGB(40,40,50)
	sliderBg.Parent = container
	Instance.new("UICorner", sliderBg).CornerRadius = UDim.new(1, 0)

	local sliderFill = Instance.new("Frame")
	sliderFill.Size = UDim2.new((aimbotFOV - 20) / (150 - 20), 0, 1, 0)
	sliderFill.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
	sliderFill.Parent = sliderBg
	Instance.new("UICorner", sliderFill).CornerRadius = UDim.new(1, 0)

	local sliderBtn = Instance.new("TextButton")
	sliderBtn.Size = UDim2.new(0, 20, 0, 20)
	sliderBtn.Position = UDim2.new((aimbotFOV - 20) / (150 - 20), -10, 0.5, -10)
	sliderBtn.BackgroundColor3 = Color3.fromRGB(255,255,255)
	sliderBtn.Text = ""
	sliderBtn.Parent = sliderBg
	Instance.new("UICorner", sliderBtn).CornerRadius = UDim.new(1, 0)

	local dragging = false
	sliderBtn.MouseButton1Down:Connect(function() dragging = true end)
	UserInputService.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
	end)

	RunService.RenderStepped:Connect(function()
		if dragging then
			local mousePos = UserInputService:GetMouseLocation().X
			local sliderPos = sliderBg.AbsolutePosition.X
			local sliderSize = sliderBg.AbsoluteSize.X
			local relativePos = math.clamp((mousePos - sliderPos) / sliderSize, 0, 1)
			aimbotFOV = math.floor(20 + (150 - 20) * relativePos)
			sliderFill.Size = UDim2.new(relativePos, 0, 1, 0)
			sliderBtn.Position = UDim2.new(relativePos, -10, 0.5, -10)
			valueLabel.Text = tostring(aimbotFOV)
		end
	end)
end

createFOVSlider()

local targetToggle = Instance.new("TextButton")
targetToggle.Size = UDim2.new(0.48, -5, 0, 35)
targetToggle.Position = UDim2.new(0, 12, 0, 235)
targetToggle.Text = "üéØ CABE√áA"
targetToggle.Font = Enum.Font.GothamBold
targetToggle.TextSize = 13
targetToggle.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
targetToggle.TextColor3 = Color3.fromRGB(255,255,255)
targetToggle.Parent = aimbotMainCard
Instance.new("UICorner", targetToggle).CornerRadius = UDim.new(0, 8)
targetToggle.MouseButton1Click:Connect(function()
	aimbotTarget = aimbotTarget == "Head" and "HumanoidRootPart" or "Head"
	targetToggle.Text = aimbotTarget == "Head" and "üéØ CABE√áA" or "üéØ CORPO"
end)

local function createSmoothSlider()
	local container = Instance.new("Frame")
	container.Size = UDim2.new(1, -24, 0, 60)
	container.Position = UDim2.new(0, 12, 0, 125)
	container.BackgroundTransparency = 1
	container.Parent = aimbotMainCard

	local label = Instance.new("TextLabel")
	label.Size = UDim2.new(0.5, -5, 0, 20)
	label.Position = UDim2.new(0, 0, 0, 0)
	label.BackgroundTransparency = 1
	label.Font = Enum.Font.GothamBold
	label.TextSize = 12
	label.TextColor3 = Color3.fromRGB(200,200,200)
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.Text = "SUAVIDADE"
	label.Parent = container

	local valueLabel = Instance.new("TextLabel")
	valueLabel.Size = UDim2.new(0, 50, 0, 20)
	valueLabel.Position = UDim2.new(1, -50, 0, 0)
	valueLabel.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
	valueLabel.Font = Enum.Font.GothamBold
	valueLabel.TextSize = 12
	valueLabel.TextColor3 = Color3.fromRGB(255,255,255)
	valueLabel.Text = tostring(aimbotSmooth)
	valueLabel.Parent = container
	Instance.new("UICorner", valueLabel).CornerRadius = UDim.new(0, 6)

	local sliderBg = Instance.new("Frame")
	sliderBg.Size = UDim2.new(1, 0, 0, 8)
	sliderBg.Position = UDim2.new(0, 0, 0, 30)
	sliderBg.BackgroundColor3 = Color3.fromRGB(40,40,50)
	sliderBg.Parent = container
	Instance.new("UICorner", sliderBg).CornerRadius = UDim.new(1, 0)

	local sliderFill = Instance.new("Frame")
	sliderFill.Size = UDim2.new((aimbotSmooth - 1) / (20 - 1), 0, 1, 0)
	sliderFill.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
	sliderFill.Parent = sliderBg
	Instance.new("UICorner", sliderFill).CornerRadius = UDim.new(1, 0)

	local sliderBtn = Instance.new("TextButton")
	sliderBtn.Size = UDim2.new(0, 20, 0, 20)
	sliderBtn.Position = UDim2.new((aimbotSmooth - 1) / (20 - 1), -10, 0.5, -10)
	sliderBtn.BackgroundColor3 = Color3.fromRGB(255,255,255)
	sliderBtn.Text = ""
	sliderBtn.Parent = sliderBg
	Instance.new("UICorner", sliderBtn).CornerRadius = UDim.new(1, 0)

	local dragging = false
	sliderBtn.MouseButton1Down:Connect(function() dragging = true end)
	UserInputService.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
	end)

	RunService.RenderStepped:Connect(function()
		if dragging then
			local mousePos = UserInputService:GetMouseLocation().X
			local sliderPos = sliderBg.AbsolutePosition.X
			local sliderSize = sliderBg.AbsoluteSize.X
			local relativePos = math.clamp((mousePos - sliderPos) / sliderSize, 0, 1)
			aimbotSmooth = math.floor(1 + (20 - 1) * relativePos)
			sliderFill.Size = UDim2.new(relativePos, 0, 1, 0)
			sliderBtn.Position = UDim2.new(relativePos, -10, 0.5, -10)
			valueLabel.Text = tostring(aimbotSmooth)
		end
	end)
end

createSmoothSlider()

local keyBindBtn = Instance.new("TextButton")
keyBindBtn.Size = UDim2.new(0.48, -5, 0, 35)
keyBindBtn.Position = UDim2.new(0.52, 0, 0, 235)
keyBindBtn.Text = "‚è±Ô∏è " .. aimbotKeyName
keyBindBtn.Font = Enum.Font.GothamBold
keyBindBtn.TextSize = 13
keyBindBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
keyBindBtn.TextColor3 = Color3.fromRGB(255,255,255)
keyBindBtn.Parent = aimbotMainCard
Instance.new("UICorner", keyBindBtn).CornerRadius = UDim.new(0, 8)

keyBindBtn.MouseButton1Click:Connect(function()
	waitingForKey = true
	keyBindBtn.Text = "PRESSIONE..."
	keyBindBtn.BackgroundColor3 = Color3.fromRGB(139, 92, 246)
end)

UserInputService.InputBegan:Connect(function(input, gpe)
	if waitingForKey and not gpe then
		if input.UserInputType == Enum.UserInputType.Keyboard then
			aimbotKey = input.KeyCode
			aimbotKeyName = input.KeyCode.Name
			keyBindBtn.Text = "‚è±Ô∏è " .. aimbotKeyName
			keyBindBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
			waitingForKey = false
		elseif input.UserInputType == Enum.UserInputType.MouseButton1 then
			aimbotKey = Enum.UserInputType.MouseButton1
			aimbotKeyName = "Bot√£o Esquerdo"
			keyBindBtn.Text = "‚è±Ô∏è " .. aimbotKeyName
			keyBindBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
			waitingForKey = false
		elseif input.UserInputType == Enum.UserInputType.MouseButton2 then
			aimbotKey = Enum.UserInputType.MouseButton2
			aimbotKeyName = "Bot√£o Direito"
			keyBindBtn.Text = "‚è±Ô∏è " .. aimbotKeyName
			keyBindBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
			waitingForKey = false
		end
	elseif waitingForClickerKey and not gpe then
		if input.UserInputType == Enum.UserInputType.Keyboard then
			autoClickerKey = input.KeyCode
			autoClickerKeyName = input.KeyCode.Name
			clickerKeyBtn.Text = "TECLA: " .. autoClickerKeyName
			clickerKeyBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
			waitingForClickerKey = false
		end
	end
end)

local aimbotInfo = Instance.new("TextLabel")
aimbotInfo.Size = UDim2.new(1, 0, 0, 90)
aimbotInfo.Position = UDim2.new(0, 0, 0, 230)
aimbotInfo.BackgroundColor3 = Color3.fromRGB(28,28,38)
aimbotInfo.Font = Enum.Font.Gotham
aimbotInfo.TextSize = 12
aimbotInfo.TextColor3 = Color3.fromRGB(180,180,200)
aimbotInfo.TextWrapped = true
aimbotInfo.Text = "  COMO USAR:\n\n  ‚Ä¢ Ative o Aimbot e ajuste FOV/Suavidade\n  ‚Ä¢ Escolha o alvo (Cabe√ßa/Corpo) e tecla\n  ‚Ä¢ Segure a tecla para mirar automaticamente"
aimbotInfo.Parent = aimbotPage
Instance.new("UICorner", aimbotInfo).CornerRadius = UDim.new(0, 12)

clickerPage:FindFirstChildOfClass("UIListLayout"):Destroy()

local clickerMainCard = Instance.new("Frame")
clickerMainCard.Size = UDim2.new(1, 0, 0, 180)
clickerMainCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
clickerMainCard.Parent = clickerPage
Instance.new("UICorner", clickerMainCard).CornerRadius = UDim.new(0, 12)
local clickerStroke = Instance.new("UIStroke", clickerMainCard)
clickerStroke.Color = Color3.fromRGB(0, 160, 220)
clickerStroke.Thickness = 2
clickerStroke.Transparency = 0.7

local clickerIcon = Instance.new("TextLabel")
clickerIcon.Size = UDim2.new(0, 40, 0, 40)
clickerIcon.Position = UDim2.new(0, 12, 0, 12)
clickerIcon.BackgroundColor3 = Color3.fromRGB(0, 160, 220)
clickerIcon.BackgroundTransparency = 0.8
clickerIcon.Text = "üñ±Ô∏è"
clickerIcon.Font = Enum.Font.GothamBold
clickerIcon.TextSize = 20
clickerIcon.TextColor3 = Color3.fromRGB(255,255,255)
clickerIcon.Parent = clickerMainCard
Instance.new("UICorner", clickerIcon).CornerRadius = UDim.new(0, 10)

local clickerTitle = Instance.new("TextLabel")
clickerTitle.Size = UDim2.new(1, -140, 0, 20)
clickerTitle.Position = UDim2.new(0, 60, 0, 15)
clickerTitle.BackgroundTransparency = 1
clickerTitle.Font = Enum.Font.GothamBold
clickerTitle.TextSize = 15
clickerTitle.TextColor3 = Color3.fromRGB(255,255,255)
clickerTitle.TextXAlignment = Enum.TextXAlignment.Left
clickerTitle.Text = "AUTO CLICKER"
clickerTitle.Parent = clickerMainCard

local clickerSubtitle = Instance.new("TextLabel")
clickerSubtitle.Size = UDim2.new(1, -140, 0, 16)
clickerSubtitle.Position = UDim2.new(0, 60, 0, 35)
clickerSubtitle.BackgroundTransparency = 1
clickerSubtitle.Font = Enum.Font.Gotham
clickerSubtitle.TextSize = 11
clickerSubtitle.TextColor3 = Color3.fromRGB(150,150,160)
clickerSubtitle.TextXAlignment = Enum.TextXAlignment.Left
clickerSubtitle.Text = "Cliques autom√°ticos r√°pidos"
clickerSubtitle.Parent = clickerMainCard

local clickerToggle = Instance.new("TextButton")
clickerToggle.Parent = clickerMainCard
clickerToggle.Size = UDim2.new(0, 100, 0, 32)
clickerToggle.Position = UDim2.new(1, -110, 0, 14)
clickerToggle.Text = "OFF"
clickerToggle.TextSize = 13
clickerToggle.Font = Enum.Font.GothamBold
clickerToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
clickerToggle.TextColor3 = Color3.fromRGB(255,255,255)
Instance.new("UICorner", clickerToggle).CornerRadius = UDim.new(0, 10)
clickerToggle.MouseButton1Click:Connect(function()
	autoClickerEnabled = not autoClickerEnabled
	clickerToggle.Text = autoClickerEnabled and "ON" or "OFF"
	clickerToggle.BackgroundColor3 = autoClickerEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

local function createClickerSpeedSlider()
	local container = Instance.new("Frame")
	container.Size = UDim2.new(1, -24, 0, 60)
	container.Position = UDim2.new(0, 12, 0, 60)
	container.BackgroundTransparency = 1
	container.Parent = clickerMainCard

	local label = Instance.new("TextLabel")
	label.Size = UDim2.new(0.5, -5, 0, 20)
	label.Position = UDim2.new(0, 0, 0, 0)
	label.BackgroundTransparency = 1
	label.Font = Enum.Font.GothamBold
	label.TextSize = 12
	label.TextColor3 = Color3.fromRGB(200,200,200)
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.Text = "VELOCIDADE (MS)"
	label.Parent = container

	local valueLabel = Instance.new("TextLabel")
	valueLabel.Size = UDim2.new(0, 50, 0, 20)
	valueLabel.Position = UDim2.new(1, -50, 0, 0)
	valueLabel.BackgroundColor3 = Color3.fromRGB(0, 160, 220)
	valueLabel.Font = Enum.Font.GothamBold
	valueLabel.TextSize = 12
	valueLabel.TextColor3 = Color3.fromRGB(255,255,255)
	valueLabel.Text = tostring(autoClickerSpeed)
	valueLabel.Parent = container
	Instance.new("UICorner", valueLabel).CornerRadius = UDim.new(0, 6)

	local sliderBg = Instance.new("Frame")
	sliderBg.Size = UDim2.new(1, 0, 0, 8)
	sliderBg.Position = UDim2.new(0, 0, 0, 30)
	sliderBg.BackgroundColor3 = Color3.fromRGB(40,40,50)
	sliderBg.Parent = container
	Instance.new("UICorner", sliderBg).CornerRadius = UDim.new(1, 0)

	local sliderFill = Instance.new("Frame")
	sliderFill.Size = UDim2.new((autoClickerSpeed - 1) / (100 - 1), 0, 1, 0)
	sliderFill.BackgroundColor3 = Color3.fromRGB(0, 160, 220)
	sliderFill.Parent = sliderBg
	Instance.new("UICorner", sliderFill).CornerRadius = UDim.new(1, 0)

	local sliderBtn = Instance.new("TextButton")
	sliderBtn.Size = UDim2.new(0, 20, 0, 20)
	sliderBtn.Position = UDim2.new((autoClickerSpeed - 1) / (100 - 1), -10, 0.5, -10)
	sliderBtn.BackgroundColor3 = Color3.fromRGB(255,255,255)
	sliderBtn.Text = ""
	sliderBtn.Parent = sliderBg
	Instance.new("UICorner", sliderBtn).CornerRadius = UDim.new(1, 0)

	local dragging = false
	sliderBtn.MouseButton1Down:Connect(function() dragging = true end)
	UserInputService.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
	end)

	RunService.RenderStepped:Connect(function()
		if dragging then
			local mousePos = UserInputService:GetMouseLocation().X
			local sliderPos = sliderBg.AbsolutePosition.X
			local sliderSize = sliderBg.AbsoluteSize.X
			local relativePos = math.clamp((mousePos - sliderPos) / sliderSize, 0, 1)
			autoClickerSpeed = math.floor(1 + (100 - 1) * relativePos)
			sliderFill.Size = UDim2.new(relativePos, 0, 1, 0)
			sliderBtn.Position = UDim2.new(relativePos, -10, 0.5, -10)
			valueLabel.Text = tostring(autoClickerSpeed)
		end
	end)
end

createClickerSpeedSlider()

local clickerKeyBtn = Instance.new("TextButton")
clickerKeyBtn.Size = UDim2.new(1, -24, 0, 35)
clickerKeyBtn.Position = UDim2.new(0, 12, 0, 135)
clickerKeyBtn.Text = "‚è±Ô∏è TECLA: " .. autoClickerKeyName
clickerKeyBtn.Font = Enum.Font.GothamBold
clickerKeyBtn.TextSize = 13
clickerKeyBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
clickerKeyBtn.TextColor3 = Color3.fromRGB(255,255,255)
clickerKeyBtn.Parent = clickerMainCard
Instance.new("UICorner", clickerKeyBtn).CornerRadius = UDim.new(0, 8)

clickerKeyBtn.MouseButton1Click:Connect(function()
	waitingForClickerKey = true
	clickerKeyBtn.Text = "PRESSIONE..."
	clickerKeyBtn.BackgroundColor3 = Color3.fromRGB(139, 92, 246)
end)

local clickerInfo = Instance.new("TextLabel")
clickerInfo.Size = UDim2.new(1, 0, 0, 90)
clickerInfo.Position = UDim2.new(0, 0, 0, 190)
clickerInfo.BackgroundColor3 = Color3.fromRGB(28,28,38)
clickerInfo.Font = Enum.Font.Gotham
clickerInfo.TextSize = 12
clickerInfo.TextColor3 = Color3.fromRGB(180,180,200)
clickerInfo.TextWrapped = true
clickerInfo.Text = "  COMO USAR:\n\n  ‚Ä¢ Ative o Auto Clicker e ajuste velocidade\n  ‚Ä¢ Escolha a tecla de ativa√ß√£o\n  ‚Ä¢ Segure a tecla para clicar automaticamente"
clickerInfo.Parent = clickerPage
Instance.new("UICorner", clickerInfo).CornerRadius = UDim.new(0, 12)

playersPage:FindFirstChildOfClass("UIListLayout"):Destroy()

local playersListFrame = Instance.new("Frame")
playersListFrame.Size = UDim2.new(0.48, 0, 1, 0)
playersListFrame.Position = UDim2.new(0, 0, 0, 0)
playersListFrame.BackgroundColor3 = Color3.fromRGB(28,28,38)
playersListFrame.Parent = playersPage
Instance.new("UICorner", playersListFrame).CornerRadius = UDim.new(0, 12)
local playersFrameStroke = Instance.new("UIStroke", playersListFrame)
playersFrameStroke.Color = Color3.fromRGB(45,45,55)
playersFrameStroke.Thickness = 2
playersFrameStroke.Transparency = 0.5

local playersListTitle = Instance.new("TextLabel")
playersListTitle.BackgroundTransparency = 1
playersListTitle.Size = UDim2.new(1, 0, 0, 40)
playersListTitle.Font = Enum.Font.GothamBold
playersListTitle.TextSize = 17
playersListTitle.TextColor3 = Color3.fromRGB(255,255,255)
playersListTitle.Text = "üë• JOGADORES ONLINE"
playersListTitle.Parent = playersListFrame

local searchBox = Instance.new("TextBox")
searchBox.Size = UDim2.new(1, -16, 0, 35)
searchBox.Position = UDim2.new(0, 8, 0, 45)
searchBox.BackgroundColor3 = Color3.fromRGB(15,15,22)
searchBox.PlaceholderText = "üîç Pesquisar jogador..."
searchBox.PlaceholderColor3 = Color3.fromRGB(100,100,110)
searchBox.Text = ""
searchBox.Font = Enum.Font.Gotham
searchBox.TextSize = 14
searchBox.TextColor3 = Color3.fromRGB(255,255,255)
searchBox.TextXAlignment = Enum.TextXAlignment.Left
searchBox.ClearTextOnFocus = false
searchBox.Parent = playersListFrame
Instance.new("UICorner", searchBox).CornerRadius = UDim.new(0, 8)
local searchPadding = Instance.new("UIPadding", searchBox)
searchPadding.PaddingLeft = UDim.new(0, 10)

local playersList = Instance.new("ScrollingFrame")
playersList.Size = UDim2.new(1, -16, 1, -92)
playersList.Position = UDim2.new(0, 8, 0, 86)
playersList.CanvasSize = UDim2.new(0,0,0,0)
playersList.ScrollBarThickness = 6
playersList.BackgroundColor3 = Color3.fromRGB(15,15,22)
playersList.BorderSizePixel = 0
playersList.Parent = playersListFrame
Instance.new("UICorner", playersList).CornerRadius = UDim.new(0,10)
local playersLayout = Instance.new("UIListLayout", playersList)
playersLayout.Padding = UDim.new(0,6)

local actionsFrame = Instance.new("Frame")
actionsFrame.Size = UDim2.new(0.48, 0, 1, 0)
actionsFrame.Position = UDim2.new(0.52, 0, 0, 0)
actionsFrame.BackgroundColor3 = Color3.fromRGB(28,28,38)
actionsFrame.Parent = playersPage
Instance.new("UICorner", actionsFrame).CornerRadius = UDim.new(0, 12)
local actionsFrameStroke = Instance.new("UIStroke", actionsFrame)
actionsFrameStroke.Color = Color3.fromRGB(45,45,55)
actionsFrameStroke.Thickness = 2
actionsFrameStroke.Transparency = 0.5

local selectedPlayerTitle = Instance.new("TextLabel")
selectedPlayerTitle.BackgroundTransparency = 1
selectedPlayerTitle.Size = UDim2.new(1, 0, 0, 40)
selectedPlayerTitle.Font = Enum.Font.GothamBold
selectedPlayerTitle.TextSize = 17
selectedPlayerTitle.TextColor3 = Color3.fromRGB(255,255,255)
selectedPlayerTitle.Text = "SELECIONE UM JOGADOR"
selectedPlayerTitle.Parent = actionsFrame

local actionsScroll = Instance.new("ScrollingFrame")
actionsScroll.Size = UDim2.new(1, -24, 1, -52)
actionsScroll.Position = UDim2.new(0, 12, 0, 46)
actionsScroll.BackgroundTransparency = 1
actionsScroll.BorderSizePixel = 0
actionsScroll.ScrollBarThickness = 6
actionsScroll.CanvasSize = UDim2.new(0,0,0,0)
actionsScroll.AutomaticCanvasSize = Enum.AutomaticSize.Y
actionsScroll.Parent = actionsFrame
local actionsLayout = Instance.new("UIListLayout", actionsScroll)
actionsLayout.Padding = UDim.new(0,10)
actionsLayout.SortOrder = Enum.SortOrder.LayoutOrder

local function createActionButton(text, color, callback)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1, 0, 0, 50)
	btn.Text = text
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 16
	btn.BackgroundColor3 = color
	btn.TextColor3 = Color3.fromRGB(255,255,255)
	btn.Parent = actionsScroll
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 12)
	local stroke = Instance.new("UIStroke", btn)
	stroke.Color = Color3.fromRGB(0,0,0)
	stroke.Thickness = 1
	stroke.Transparency = 0.7
	btn.MouseButton1Click:Connect(function()
		if selectedPlayer then callback(selectedPlayer) end
	end)
	btn.MouseEnter:Connect(function()
		btn.BackgroundColor3 = Color3.new(color.R * 1.15, color.G * 1.15, color.B * 1.15)
	end)
	btn.MouseLeave:Connect(function()
		btn.BackgroundColor3 = color
	end)
	return btn
end

createActionButton("üìç TELEPORTAR PARA JOGADOR", Color3.fromRGB(0,160,90), instantTPTo)
createActionButton("üëÅÔ∏è ESPECTAR JOGADOR", Color3.fromRGB(160,120,0), startSpectate)
createActionButton("üîÑ PARAR DE ESPECTAR", Color3.fromRGB(200,50,50), stopSpectate)
createActionButton("üë§ VER PERFIL DO JOGADOR", Color3.fromRGB(100,100,200), function(p)
	game:GetService("GuiService"):InspectPlayerFromUserId(p.UserId)
end)
createActionButton("‚ûï ADICIONAR COMO AMIGO", Color3.fromRGB(50,150,50), function(p)
	LocalPlayer:RequestFriendship(p)
end)

local function createPlayerButton(player)
	if not player or player == LocalPlayer then return end
	local btn = Instance.new("TextButton")
	btn.Name = player.Name
	btn.Size = UDim2.new(1, -12, 0, 55)
	btn.BackgroundColor3 = Color3.fromRGB(30,30,42)
	btn.Text = ""
	btn.Parent = playersList
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 10)
	local btnStroke = Instance.new("UIStroke", btn)
	btnStroke.Color = Color3.fromRGB(50,50,60)
	btnStroke.Thickness = 1
	btnStroke.Transparency = 0.5

	local avatar = Instance.new("ImageLabel")
	avatar.Size = UDim2.new(0, 40, 0, 40)
	avatar.Position = UDim2.new(0, 8, 0, 7)
	avatar.BackgroundColor3 = Color3.fromRGB(50,50,60)
	avatar.Image = "https://www.roblox.com/headshot-thumbnail/image?userId="..player.UserId.."&width=48&height=48&format=png"
	avatar.Parent = btn
	Instance.new("UICorner", avatar).CornerRadius = UDim.new(1, 0)

	local nameLbl = Instance.new("TextLabel")
	nameLbl.BackgroundTransparency = 1
	nameLbl.Size = UDim2.new(1, -60, 0, 25)
	nameLbl.Position = UDim2.new(0, 55, 0, 8)
	nameLbl.Font = Enum.Font.GothamBold
	nameLbl.TextSize = 16
	nameLbl.TextColor3 = Color3.fromRGB(255,255,255)
	nameLbl.TextXAlignment = Enum.TextXAlignment.Left
	nameLbl.Text = player.Name
	nameLbl.Parent = btn

	local statusLbl = Instance.new("TextLabel")
	statusLbl.BackgroundTransparency = 1
	statusLbl.Size = UDim2.new(1, -60, 0, 18)
	statusLbl.Position = UDim2.new(0, 55, 0, 30)
	statusLbl.Font = Enum.Font.Gotham
	statusLbl.TextSize = 12
	statusLbl.TextColor3 = Color3.fromRGB(150,150,160)
	statusLbl.TextXAlignment = Enum.TextXAlignment.Left
	statusLbl.Text = "ID: "..player.UserId
	statusLbl.Parent = btn

	local indicator = Instance.new("Frame")
	indicator.Size = UDim2.new(0, 4, 1, -14)
	indicator.Position = UDim2.new(0, 2, 0, 7)
	indicator.BackgroundColor3 = Color3.fromRGB(139, 92, 246)
	indicator.Visible = false
	indicator.Parent = btn
	Instance.new("UICorner", indicator).CornerRadius = UDim.new(1, 0)

	btn.MouseButton1Click:Connect(function()
		for _, button in pairs(playerButtons) do
			if button:IsA("TextButton") and button:FindFirstChild("Frame") then
				button.Frame.Visible = false
				button.BackgroundColor3 = Color3.fromRGB(30,30,42)
			end
		end
		indicator.Visible = true
		btn.BackgroundColor3 = Color3.fromRGB(45,45,60)
		selectedPlayer = player
		selectedPlayerTitle.Text = "‚öôÔ∏è A√á√ïES: " .. player.Name
	end)

	playerButtons[player] = btn
end

local function createSlider(parent, labelText, minVal, maxVal, defaultVal, yPos, callback)
	local valueLabel = Instance.new("TextLabel")
	valueLabel.Size = UDim2.new(0, 60, 0, 25)
	valueLabel.Position = UDim2.new(0, 10, 0, yPos)
	valueLabel.BackgroundColor3 = Color3.fromRGB(0, 160, 220)
	valueLabel.Font = Enum.Font.GothamBold
	valueLabel.TextSize = 14
	valueLabel.TextColor3 = Color3.fromRGB(255,255,255)
	valueLabel.Text = tostring(defaultVal)
	valueLabel.Parent = parent
	Instance.new("UICorner", valueLabel).CornerRadius = UDim.new(0, 6)

	local btnPrev = Instance.new("TextButton")
	btnPrev.Size = UDim2.new(0, 50, 0, 25)
	btnPrev.Position = UDim2.new(0, 80, 0, yPos)
	btnPrev.Text = "<"
	btnPrev.Font = Enum.Font.GothamBold
	btnPrev.TextSize = 16
	btnPrev.BackgroundColor3 = Color3.fromRGB(0, 160, 220)
	btnPrev.TextColor3 = Color3.fromRGB(255,255,255)
	btnPrev.Parent = parent
	Instance.new("UICorner", btnPrev).CornerRadius = UDim.new(0, 6)
	
	local btnNext = Instance.new("TextButton")
	btnNext.Size = UDim2.new(0, 50, 0, 25)
	btnNext.Position = UDim2.new(1, -60, 0, yPos)
	btnNext.Text = ">"
	btnNext.Font = Enum.Font.GothamBold
	btnNext.TextSize = 16
	btnNext.BackgroundColor3 = Color3.fromRGB(0, 160, 220)
	btnNext.TextColor3 = Color3.fromRGB(255,255,255)
	btnNext.Parent = parent
	Instance.new("UICorner", btnNext).CornerRadius = UDim.new(0, 6)
	
	local speedBar = Instance.new("Frame")
	speedBar.Size = UDim2.new(1, -200, 0, 8)
	speedBar.Position = UDim2.new(0, 140, 0, yPos + 8)
	speedBar.BackgroundColor3 = Color3.fromRGB(40,40,50)
	speedBar.Parent = parent
	Instance.new("UICorner", speedBar).CornerRadius = UDim.new(1, 0)
	
	local speedFill = Instance.new("Frame")
	speedFill.Size = UDim2.new((defaultVal - minVal) / (maxVal - minVal), 0, 1, 0)
	speedFill.BackgroundColor3 = Color3.fromRGB(0, 160, 220)
	speedFill.Parent = speedBar
	Instance.new("UICorner", speedFill).CornerRadius = UDim.new(1, 0)
	
	btnPrev.MouseButton1Click:Connect(function()
		local currentVal = tonumber(valueLabel.Text) or defaultVal
		if currentVal > minVal then
			local newVal = math.max(minVal, currentVal - math.ceil((maxVal - minVal) / 10))
			valueLabel.Text = tostring(newVal)
			speedFill.Size = UDim2.new((newVal - minVal) / (maxVal - minVal), 0, 1, 0)
			callback(newVal)
		end
	end)
	
	btnNext.MouseButton1Click:Connect(function()
		local currentVal = tonumber(valueLabel.Text) or defaultVal
		if currentVal < maxVal then
			local newVal = math.min(maxVal, currentVal + math.ceil((maxVal - minVal) / 10))
			valueLabel.Text = tostring(newVal)
			speedFill.Size = UDim2.new((newVal - minVal) / (maxVal - minVal), 0, 1, 0)
			callback(newVal)
		end
	end)
end

local speedBoostActive = false
local speedConnection = nil
local currentSpeed = 16

local speedToggle = Instance.new("TextButton")
speedToggle.Size = UDim2.new(0, 150, 0, 40)
speedToggle.Position = UDim2.new(1, -160, 0, 15)
speedToggle.Text = "ATIVAR SPEED"
speedToggle.Font = Enum.Font.GothamBold
speedToggle.TextSize = 15
speedToggle.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
speedToggle.TextColor3 = Color3.fromRGB(255,255,255)
speedToggle.Parent = movementPage
speedToggle.ZIndex = 10
Instance.new("UICorner", speedToggle).CornerRadius = UDim.new(0, 8)

speedToggle.MouseButton1Click:Connect(function()
	speedBoostActive = not speedBoostActive
	speedToggle.Text = speedBoostActive and "DESATIVAR" or "ATIVAR SPEED"
	speedToggle.BackgroundColor3 = speedBoostActive and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(200, 50, 50)
	
	if speedBoostActive then
		speedConnection = RunService.Heartbeat:Connect(function()
			local char = LocalPlayer.Character
			if char then
				local hum = char:FindFirstChildOfClass("Humanoid")
				if hum then 
					hum.WalkSpeed = currentSpeed
				end
				
				if currentSpeed > 16 then
					local rootPart = char:FindFirstChild("HumanoidRootPart")
					if rootPart then
						rootPart.AssemblyLinearVelocity = Vector3.new(rootPart.AssemblyLinearVelocity.X, rootPart.AssemblyLinearVelocity.Y, rootPart.AssemblyLinearVelocity.Z)
					end
				end
			end
		end)
	else
		if speedConnection then
			speedConnection:Disconnect()
			speedConnection = nil
		end
		
		local char = LocalPlayer.Character
		if char then
			local hum = char:FindFirstChildOfClass("Humanoid")
			if hum then hum.WalkSpeed = 16 end
		end
	end
end)

speedToggle.MouseEnter:Connect(function()
	speedToggle.BackgroundColor3 = speedBoostActive and Color3.fromRGB(0, 180, 110) or Color3.fromRGB(220, 70, 70)
end)

speedToggle.MouseLeave:Connect(function()
	speedToggle.BackgroundColor3 = speedBoostActive and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(200, 50, 50)
end)

local function createSliderSpeed(parent, labelText, yPos)
	local valueLabel = Instance.new("TextLabel")
	valueLabel.Size = UDim2.new(0, 60, 0, 25)
	valueLabel.Position = UDim2.new(0, 10, 0, yPos)
	valueLabel.BackgroundColor3 = Color3.fromRGB(120, 80, 220)
	valueLabel.Font = Enum.Font.GothamBold
	valueLabel.TextSize = 14
	valueLabel.TextColor3 = Color3.fromRGB(255,255,255)
	valueLabel.Text = "16"
	valueLabel.Parent = parent
	Instance.new("UICorner", valueLabel).CornerRadius = UDim.new(0, 6)

	local speeds = {16, 25, 35, 50, 75, 100, 150, 200, 300, 500}
	local currentIndex = 1
	
	local btnPrev = Instance.new("TextButton")
	btnPrev.Size = UDim2.new(0, 50, 0, 25)
	btnPrev.Position = UDim2.new(0, 80, 0, yPos)
	btnPrev.Text = "<"
	btnPrev.Font = Enum.Font.GothamBold
	btnPrev.TextSize = 16
	btnPrev.BackgroundColor3 = Color3.fromRGB(120, 80, 220)
	btnPrev.TextColor3 = Color3.fromRGB(255,255,255)
	btnPrev.Parent = parent
	Instance.new("UICorner", btnPrev).CornerRadius = UDim.new(0, 6)
	
	local btnNext = Instance.new("TextButton")
	btnNext.Size = UDim2.new(0, 50, 0, 25)
	btnNext.Position = UDim2.new(1, -60, 0, yPos)
	btnNext.Text = ">"
	btnNext.Font = Enum.Font.GothamBold
	btnNext.TextSize = 16
	btnNext.BackgroundColor3 = Color3.fromRGB(120, 80, 220)
	btnNext.TextColor3 = Color3.fromRGB(255,255,255)
	btnNext.Parent = parent
	Instance.new("UICorner", btnNext).CornerRadius = UDim.new(0, 6)
	
	local speedBar = Instance.new("Frame")
	speedBar.Size = UDim2.new(1, -200, 0, 8)
	speedBar.Position = UDim2.new(0, 140, 0, yPos + 8)
	speedBar.BackgroundColor3 = Color3.fromRGB(40,40,50)
	speedBar.Parent = parent
	Instance.new("UICorner", speedBar).CornerRadius = UDim.new(1, 0)
	
	local speedFill = Instance.new("Frame")
	speedFill.Size = UDim2.new(0.1, 0, 1, 0)
	speedFill.BackgroundColor3 = Color3.fromRGB(120, 80, 220)
	speedFill.Parent = speedBar
	Instance.new("UICorner", speedFill).CornerRadius = UDim.new(1, 0)
	
	btnPrev.MouseButton1Click:Connect(function()
		if currentIndex > 1 then
			currentIndex = currentIndex - 1
			currentSpeed = speeds[currentIndex]
			valueLabel.Text = tostring(currentSpeed)
			speedFill.Size = UDim2.new(currentIndex / #speeds, 0, 1, 0)
			if speedBoostActive then
				local char = LocalPlayer.Character
				if char then
					local hum = char:FindFirstChildOfClass("Humanoid")
					if hum then hum.WalkSpeed = currentSpeed end
				end
			end
		end
	end)
	
	btnNext.MouseButton1Click:Connect(function()
		if currentIndex < #speeds then
			currentIndex = currentIndex + 1
			currentSpeed = speeds[currentIndex]
			valueLabel.Text = tostring(currentSpeed)
			speedFill.Size = UDim2.new(currentIndex / #speeds, 0, 1, 0)
			if speedBoostActive then
				local char = LocalPlayer.Character
				if char then
					local hum = char:FindFirstChildOfClass("Humanoid")
					if hum then hum.WalkSpeed = currentSpeed end
				end
			end
		end
	end)
end

movementPage:FindFirstChildOfClass("UIListLayout"):Destroy()

local topRow = Instance.new("Frame")
topRow.Size = UDim2.new(1, 0, 0, 200)
topRow.BackgroundTransparency = 1
topRow.Parent = movementPage

local speedCard = Instance.new("Frame")
speedCard.Size = UDim2.new(0.48, -5, 1, 0)
speedCard.Position = UDim2.new(0, 0, 0, 0)
speedCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
speedCard.Parent = topRow
Instance.new("UICorner", speedCard).CornerRadius = UDim.new(0, 12)
local speedStroke = Instance.new("UIStroke", speedCard)
speedStroke.Color = Color3.fromRGB(120, 80, 220)
speedStroke.Thickness = 2
speedStroke.Transparency = 0.7

local speedIcon = Instance.new("TextLabel")
speedIcon.Size = UDim2.new(0, 40, 0, 40)
speedIcon.Position = UDim2.new(0, 12, 0, 12)
speedIcon.BackgroundColor3 = Color3.fromRGB(120, 80, 220)
speedIcon.BackgroundTransparency = 0.8
speedIcon.Text = "üèÉ"
speedIcon.Font = Enum.Font.GothamBold
speedIcon.TextSize = 22
speedIcon.TextColor3 = Color3.fromRGB(255,255,255)
speedIcon.Parent = speedCard
Instance.new("UICorner", speedIcon).CornerRadius = UDim.new(0, 10)

local speedTitle = Instance.new("TextLabel")
speedTitle.Size = UDim2.new(1, -140, 0, 20)
speedTitle.Position = UDim2.new(0, 60, 0, 15)
speedTitle.BackgroundTransparency = 1
speedTitle.Font = Enum.Font.GothamBold
speedTitle.TextSize = 15
speedTitle.TextColor3 = Color3.fromRGB(255,255,255)
speedTitle.TextXAlignment = Enum.TextXAlignment.Left
speedTitle.Text = "VELOCIDADE"
speedTitle.Parent = speedCard

local speedSubtitle = Instance.new("TextLabel")
speedSubtitle.Size = UDim2.new(1, -140, 0, 16)
speedSubtitle.Position = UDim2.new(0, 60, 0, 35)
speedSubtitle.BackgroundTransparency = 1
speedSubtitle.Font = Enum.Font.Gotham
speedSubtitle.TextSize = 11
speedSubtitle.TextColor3 = Color3.fromRGB(150,150,160)
speedSubtitle.TextXAlignment = Enum.TextXAlignment.Left
speedSubtitle.Text = "Controle sua velocidade"
speedSubtitle.Parent = speedCard

speedToggle.Parent = speedCard
speedToggle.Size = UDim2.new(0, 100, 0, 32)
speedToggle.Position = UDim2.new(1, -110, 0, 14)
speedToggle.Text = "ATIVAR"
speedToggle.TextSize = 13

createSliderSpeed(speedCard, "", 100)

local speedHint = Instance.new("TextLabel")
speedHint.Size = UDim2.new(1, -24, 0, 40)
speedHint.Position = UDim2.new(0, 12, 0, 140)
speedHint.BackgroundColor3 = Color3.fromRGB(120, 80, 220)
speedHint.BackgroundTransparency = 0.92
speedHint.Font = Enum.Font.Gotham
speedHint.TextSize = 11
speedHint.TextColor3 = Color3.fromRGB(180,180,200)
speedHint.TextWrapped = true
speedHint.Text = "Use < > para ajustar\n16 - 500 velocidade"
speedHint.Parent = speedCard
Instance.new("UICorner", speedHint).CornerRadius = UDim.new(0, 8)

local flyCard = Instance.new("Frame")
flyCard.Size = UDim2.new(0.48, -5, 1, 0)
flyCard.Position = UDim2.new(0.52, 0, 0, 0)
flyCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
flyCard.Parent = topRow
Instance.new("UICorner", flyCard).CornerRadius = UDim.new(0, 12)
local flyStroke = Instance.new("UIStroke", flyCard)
flyStroke.Color = Color3.fromRGB(0, 160, 220)
flyStroke.Thickness = 2
flyStroke.Transparency = 0.7

local flyIcon = Instance.new("TextLabel")
flyIcon.Size = UDim2.new(0, 40, 0, 40)
flyIcon.Position = UDim2.new(0, 12, 0, 12)
flyIcon.BackgroundColor3 = Color3.fromRGB(0, 160, 220)
flyIcon.BackgroundTransparency = 0.8
flyIcon.Text = "‚úàÔ∏è"
flyIcon.Font = Enum.Font.GothamBold
flyIcon.TextSize = 20
flyIcon.TextColor3 = Color3.fromRGB(255,255,255)
flyIcon.Parent = flyCard
Instance.new("UICorner", flyIcon).CornerRadius = UDim.new(0, 10)

local flyTitle = Instance.new("TextLabel")
flyTitle.Size = UDim2.new(1, -70, 0, 20)
flyTitle.Position = UDim2.new(0, 60, 0, 15)
flyTitle.BackgroundTransparency = 1
flyTitle.Font = Enum.Font.GothamBold
flyTitle.TextSize = 15
flyTitle.TextColor3 = Color3.fromRGB(255,255,255)
flyTitle.TextXAlignment = Enum.TextXAlignment.Left
flyTitle.Text = "SISTEMA DE VOO"
flyTitle.Parent = flyCard

local flySubtitle = Instance.new("TextLabel")
flySubtitle.Size = UDim2.new(1, -70, 0, 16)
flySubtitle.Position = UDim2.new(0, 60, 0, 35)
flySubtitle.BackgroundTransparency = 1
flySubtitle.Font = Enum.Font.Gotham
flySubtitle.TextSize = 11
flySubtitle.TextColor3 = Color3.fromRGB(150,150,160)
flySubtitle.TextXAlignment = Enum.TextXAlignment.Left
flySubtitle.Text = "Voe livremente pelo mapa"
flySubtitle.Parent = flyCard

createSlider(flyCard, "Velocidade", 10, 100, 50, 100, function(value)
	FlySystem.speed = value
end)

local flyToggle = Instance.new("TextButton")
flyToggle.Size = UDim2.new(0.48, -5, 0, 35)
flyToggle.Position = UDim2.new(0, 12, 0, 145)
flyToggle.Text = "üöÄ FLY: OFF"
flyToggle.Font = Enum.Font.GothamBold
flyToggle.TextSize = 13
flyToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
flyToggle.TextColor3 = Color3.fromRGB(255,255,255)
flyToggle.Parent = flyCard
Instance.new("UICorner", flyToggle).CornerRadius = UDim.new(0, 10)
flyToggle.MouseButton1Click:Connect(function()
	FlySystem:toggleFly()
	flyToggle.Text = FlySystem.flying and "FLY: ON" or "FLY: OFF"
	flyToggle.BackgroundColor3 = FlySystem.flying and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

flyToggle.MouseEnter:Connect(function()
	flyToggle.BackgroundColor3 = FlySystem.flying and Color3.fromRGB(0, 180, 110) or Color3.fromRGB(80, 80, 90)
end)

flyToggle.MouseLeave:Connect(function()
	flyToggle.BackgroundColor3 = FlySystem.flying and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

local noclipToggle = Instance.new("TextButton")
noclipToggle.Size = UDim2.new(0.48, -5, 0, 35)
noclipToggle.Position = UDim2.new(0.52, 0, 0, 145)
noclipToggle.Text = "üå´Ô∏è NOCLIP: OFF"
noclipToggle.Font = Enum.Font.GothamBold
noclipToggle.TextSize = 13
noclipToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
noclipToggle.TextColor3 = Color3.fromRGB(255,255,255)
noclipToggle.Parent = flyCard
Instance.new("UICorner", noclipToggle).CornerRadius = UDim.new(0, 10)
noclipToggle.MouseButton1Click:Connect(function()
	FlySystem:toggleNoclip()
	noclipToggle.Text = FlySystem.noclip and "NOCLIP: ON" or "NOCLIP: OFF"
	noclipToggle.BackgroundColor3 = FlySystem.noclip and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

noclipToggle.MouseEnter:Connect(function()
	noclipToggle.BackgroundColor3 = FlySystem.noclip and Color3.fromRGB(0, 180, 110) or Color3.fromRGB(80, 80, 90)
end)

noclipToggle.MouseLeave:Connect(function()
	noclipToggle.BackgroundColor3 = FlySystem.noclip and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

local infoCard = Instance.new("Frame")
infoCard.Size = UDim2.new(1, 0, 0, 110)
infoCard.Position = UDim2.new(0, 0, 0, 210)
infoCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
infoCard.Parent = movementPage
Instance.new("UICorner", infoCard).CornerRadius = UDim.new(0, 12)
local infoStroke = Instance.new("UIStroke", infoCard)
infoStroke.Color = Color3.fromRGB(139, 92, 246)
infoStroke.Thickness = 2
infoStroke.Transparency = 0.7

local infoIcon = Instance.new("TextLabel")
infoIcon.Size = UDim2.new(0, 40, 0, 40)
infoIcon.Position = UDim2.new(0, 12, 0, 12)
infoIcon.BackgroundColor3 = Color3.fromRGB(139, 92, 246)
infoIcon.BackgroundTransparency = 0.8
infoIcon.Text = "‚ÑπÔ∏è"
infoIcon.Font = Enum.Font.GothamBold
infoIcon.TextSize = 20
infoIcon.TextColor3 = Color3.fromRGB(255,255,255)
infoIcon.Parent = infoCard
Instance.new("UICorner", infoIcon).CornerRadius = UDim.new(0, 10)

local infoTitle = Instance.new("TextLabel")
infoTitle.Size = UDim2.new(1, -70, 0, 20)
infoTitle.Position = UDim2.new(0, 60, 0, 15)
infoTitle.BackgroundTransparency = 1
infoTitle.Font = Enum.Font.GothamBold
infoTitle.TextSize = 15
infoTitle.TextColor3 = Color3.fromRGB(255,255,255)
infoTitle.TextXAlignment = Enum.TextXAlignment.Left
infoTitle.Text = "CONTROLES"
infoTitle.Parent = infoCard

local infoText = Instance.new("TextLabel")
infoText.Size = UDim2.new(1, -24, 0, 60)
infoText.Position = UDim2.new(0, 12, 0, 45)
infoText.BackgroundTransparency = 1
infoText.Font = Enum.Font.Gotham
infoText.TextSize = 12
infoText.TextColor3 = Color3.fromRGB(180,180,200)
infoText.TextWrapped = true
infoText.TextXAlignment = Enum.TextXAlignment.Left
infoText.TextYAlignment = Enum.TextYAlignment.Top
infoText.Text = "‚Ä¢ F: Ativar/Desativar Fly\n‚Ä¢ WASD: Movimento | Space: Subir | Ctrl: Descer\n‚Ä¢ Noclip permite atravessar paredes"
infoText.Parent = infoCard

local espEnabled = true
local espMode = "TEAM"
local espMaxDist = 500
local espHighlights = {}

local function isSameTeam(player)
	if not LocalPlayer.Team or not player.Team then return false end
	return LocalPlayer.Team == player.Team
end

local function isPlayerBehindWall(player)
	if not player.Character then return false end
	local targetPart = player.Character:FindFirstChild("HumanoidRootPart")
	if not targetPart then return false end
	
	local origin = Camera.CFrame.Position
	local direction = (targetPart.Position - origin).Unit
	local distance = (targetPart.Position - origin).Magnitude
	
	local raycastParams = RaycastParams.new()
	raycastParams.FilterDescendantsInstances = {LocalPlayer.Character, player.Character}
	raycastParams.FilterType = Enum.RaycastFilterType.Blacklist
	
	local result = workspace:Raycast(origin, direction * distance, raycastParams)
	return result ~= nil
end

local function updateESP()
	for _, player in ipairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character then
			local char = player.Character
			local highlight = espHighlights[player]
			
			local myChar = LocalPlayer.Character
			local inRange = false
			if myChar then
				local myRoot = myChar:FindFirstChild("HumanoidRootPart")
				local theirRoot = char:FindFirstChild("HumanoidRootPart")
				if myRoot and theirRoot then
					local dist = (theirRoot.Position - myRoot.Position).Magnitude
					inRange = dist <= espMaxDist
				end
			end
			
			if not inRange then
				if highlight then
					highlight.Enabled = false
				end
				continue
			end
			
			if not highlight then
				highlight = Instance.new("Highlight")
				highlight.Adornee = char
				highlight.FillTransparency = 0.5
				highlight.OutlineTransparency = 0
				highlight.Parent = char
				espHighlights[player] = highlight
			end
			
			if espMode == "TEAM" then
				if isSameTeam(player) then
					highlight.FillColor = Color3.fromRGB(0, 150, 255)
					highlight.OutlineColor = Color3.fromRGB(0, 150, 255)
				else
					highlight.FillColor = Color3.fromRGB(255, 0, 0)
					highlight.OutlineColor = Color3.fromRGB(255, 0, 0)
				end
			else
				if isPlayerBehindWall(player) then
					highlight.FillColor = Color3.fromRGB(255, 0, 0)
					highlight.OutlineColor = Color3.fromRGB(255, 0, 0)
				else
					highlight.FillColor = Color3.fromRGB(0, 150, 255)
					highlight.OutlineColor = Color3.fromRGB(0, 150, 255)
				end
			end
			highlight.Enabled = espEnabled
		end
	end
end

RunService.Heartbeat:Connect(function()
	if espEnabled then 
		updateESP()
		-- Limpar highlights de jogadores que sa√≠ram
		for player, highlight in pairs(espHighlights) do
			if not player or not player.Parent or not player.Character then
				if highlight then highlight:Destroy() end
				espHighlights[player] = nil
			end
		end
	end
end)

Players.PlayerAdded:Connect(function(player)
	player.CharacterAdded:Connect(function()
		task.wait(0.5)
		if espEnabled then updateESP() end
	end)
end)

Players.PlayerRemoving:Connect(function(player)
	if espHighlights[player] then
		espHighlights[player]:Destroy()
		espHighlights[player] = nil
	end
end)

visionPage:FindFirstChildOfClass("UIListLayout"):Destroy()

local visionTopRow = Instance.new("Frame")
visionTopRow.Size = UDim2.new(1, 0, 0, 140)
visionTopRow.BackgroundTransparency = 1
visionTopRow.Parent = visionPage

local espCard = Instance.new("Frame")
espCard.Size = UDim2.new(0.48, -5, 1, 0)
espCard.Position = UDim2.new(0, 0, 0, 0)
espCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
espCard.Parent = visionTopRow
Instance.new("UICorner", espCard).CornerRadius = UDim.new(0, 12)
local espStroke = Instance.new("UIStroke", espCard)
espStroke.Color = Color3.fromRGB(0, 255, 150)
espStroke.Thickness = 2
espStroke.Transparency = 0.7

local espIcon = Instance.new("TextLabel")
espIcon.Size = UDim2.new(0, 35, 0, 35)
espIcon.Position = UDim2.new(0, 12, 0, 12)
espIcon.BackgroundColor3 = Color3.fromRGB(0, 255, 150)
espIcon.BackgroundTransparency = 0.8
espIcon.Text = "üëÅÔ∏è"
espIcon.Font = Enum.Font.GothamBold
espIcon.TextSize = 18
espIcon.TextColor3 = Color3.fromRGB(255,255,255)
espIcon.Parent = espCard
Instance.new("UICorner", espIcon).CornerRadius = UDim.new(0, 8)

local espTitle = Instance.new("TextLabel")
espTitle.Size = UDim2.new(1, -130, 0, 18)
espTitle.Position = UDim2.new(0, 55, 0, 15)
espTitle.BackgroundTransparency = 1
espTitle.Font = Enum.Font.GothamBold
espTitle.TextSize = 14
espTitle.TextColor3 = Color3.fromRGB(255,255,255)
espTitle.TextXAlignment = Enum.TextXAlignment.Left
espTitle.Text = "ESP WALLHACK"
espTitle.Parent = espCard

local espSubtitle = Instance.new("TextLabel")
espSubtitle.Size = UDim2.new(1, -130, 0, 14)
espSubtitle.Position = UDim2.new(0, 55, 0, 32)
espSubtitle.BackgroundTransparency = 1
espSubtitle.Font = Enum.Font.Gotham
espSubtitle.TextSize = 10
espSubtitle.TextColor3 = Color3.fromRGB(150,150,160)
espSubtitle.TextXAlignment = Enum.TextXAlignment.Left
espSubtitle.Text = "Ver jogadores atrav√©s de paredes"
espSubtitle.Parent = espCard

local espToggle = Instance.new("TextButton")
espToggle.Size = UDim2.new(0, 80, 0, 28)
espToggle.Position = UDim2.new(1, -90, 0, 12)
espToggle.Text = "ON"
espToggle.Font = Enum.Font.GothamBold
espToggle.TextSize = 12
espToggle.BackgroundColor3 = Color3.fromRGB(0, 160, 90)
espToggle.TextColor3 = Color3.fromRGB(255,255,255)
espToggle.Parent = espCard
Instance.new("UICorner", espToggle).CornerRadius = UDim.new(0, 8)
espToggle.MouseButton1Click:Connect(function()
	espEnabled = not espEnabled
	espToggle.Text = espEnabled and "ON" or "OFF"
	espToggle.BackgroundColor3 = espEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
	if espEnabled then updateESP() end
end)

local espModeToggle = Instance.new("TextButton")
espModeToggle.Size = UDim2.new(1, -24, 0, 32)
espModeToggle.Position = UDim2.new(0, 12, 0, 60)
espModeToggle.Text = "üë• MODO: EQUIPA"
espModeToggle.Font = Enum.Font.GothamBold
espModeToggle.TextSize = 12
espModeToggle.BackgroundColor3 = Color3.fromRGB(0, 255, 150)
espModeToggle.TextColor3 = Color3.fromRGB(255,255,255)
espModeToggle.Parent = espCard
Instance.new("UICorner", espModeToggle).CornerRadius = UDim.new(0, 8)
espModeToggle.MouseButton1Click:Connect(function()
	espMode = espMode == "TEAM" and "WALL" or "TEAM"
	espModeToggle.Text = espMode == "TEAM" and "üë• MODO: EQUIPA" or "üß± MODO: PAREDE"
	if espEnabled then updateESP() end
end)

local espBoxBtn = Instance.new("TextButton")
espBoxBtn.Size = UDim2.new(0.48, -5, 0, 32)
espBoxBtn.Position = UDim2.new(0, 12, 0, 100)
espBoxBtn.Text = "‚ñ° BOXES"
espBoxBtn.Font = Enum.Font.GothamBold
espBoxBtn.TextSize = 11
espBoxBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
espBoxBtn.TextColor3 = Color3.fromRGB(255,255,255)
espBoxBtn.Parent = espCard
Instance.new("UICorner", espBoxBtn).CornerRadius = UDim.new(0, 8)
local espBoxEnabled = false
espBoxBtn.MouseButton1Click:Connect(function()
	espBoxEnabled = not espBoxEnabled
	espBoxBtn.Text = espBoxEnabled and "‚ñ† ON" or "‚ñ° BOXES"
	espBoxBtn.BackgroundColor3 = espBoxEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

local espHealthBtn = Instance.new("TextButton")
espHealthBtn.Size = UDim2.new(0.48, -5, 0, 32)
espHealthBtn.Position = UDim2.new(0.52, 0, 0, 100)
espHealthBtn.Text = "‚ù§Ô∏è HEALTH"
espHealthBtn.Font = Enum.Font.GothamBold
espHealthBtn.TextSize = 11
espHealthBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
espHealthBtn.TextColor3 = Color3.fromRGB(255,255,255)
espHealthBtn.Parent = espCard
Instance.new("UICorner", espHealthBtn).CornerRadius = UDim.new(0, 8)
local espHealthEnabled = false
espHealthBtn.MouseButton1Click:Connect(function()
	espHealthEnabled = not espHealthEnabled
	espHealthBtn.Text = espHealthEnabled and "‚ù§Ô∏è ON" or "‚ù§Ô∏è HEALTH"
	espHealthBtn.BackgroundColor3 = espHealthEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

local visualCard = Instance.new("Frame")
visualCard.Size = UDim2.new(0.48, -5, 1, 0)
visualCard.Position = UDim2.new(0.52, 0, 0, 0)
visualCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
visualCard.Parent = visionTopRow
Instance.new("UICorner", visualCard).CornerRadius = UDim.new(0, 12)
local visualStroke = Instance.new("UIStroke", visualCard)
visualStroke.Color = Color3.fromRGB(255, 200, 0)
visualStroke.Thickness = 2
visualStroke.Transparency = 0.7

local visualIcon = Instance.new("TextLabel")
visualIcon.Size = UDim2.new(0, 35, 0, 35)
visualIcon.Position = UDim2.new(0, 12, 0, 12)
visualIcon.BackgroundColor3 = Color3.fromRGB(255, 200, 0)
visualIcon.BackgroundTransparency = 0.8
visualIcon.Text = "üåà"
visualIcon.Font = Enum.Font.GothamBold
visualIcon.TextSize = 18
visualIcon.TextColor3 = Color3.fromRGB(255,255,255)
visualIcon.Parent = visualCard
Instance.new("UICorner", visualIcon).CornerRadius = UDim.new(0, 8)

local visualTitle = Instance.new("TextLabel")
visualTitle.Size = UDim2.new(1, -60, 0, 18)
visualTitle.Position = UDim2.new(0, 55, 0, 15)
visualTitle.BackgroundTransparency = 1
visualTitle.Font = Enum.Font.GothamBold
visualTitle.TextSize = 14
visualTitle.TextColor3 = Color3.fromRGB(255,255,255)
visualTitle.TextXAlignment = Enum.TextXAlignment.Left
visualTitle.Text = "VISUAIS"
visualTitle.Parent = visualCard

local visualSubtitle = Instance.new("TextLabel")
visualSubtitle.Size = UDim2.new(1, -60, 0, 14)
visualSubtitle.Position = UDim2.new(0, 55, 0, 32)
visualSubtitle.BackgroundTransparency = 1
visualSubtitle.Font = Enum.Font.Gotham
visualSubtitle.TextSize = 10
visualSubtitle.TextColor3 = Color3.fromRGB(150,150,160)
visualSubtitle.TextXAlignment = Enum.TextXAlignment.Left
visualSubtitle.Text = "Melhorias visuais do jogo"
visualSubtitle.Parent = visualCard

local fullbrightBtn = Instance.new("TextButton")
fullbrightBtn.Size = UDim2.new(1, -24, 0, 32)
fullbrightBtn.Position = UDim2.new(0, 12, 0, 60)
fullbrightBtn.Text = "üí° FULLBRIGHT"
fullbrightBtn.Font = Enum.Font.GothamBold
fullbrightBtn.TextSize = 12
fullbrightBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
fullbrightBtn.TextColor3 = Color3.fromRGB(255,255,255)
fullbrightBtn.Parent = visualCard
Instance.new("UICorner", fullbrightBtn).CornerRadius = UDim.new(0, 8)
local fullbrightEnabled = false
fullbrightBtn.MouseButton1Click:Connect(function()
	fullbrightEnabled = not fullbrightEnabled
	fullbrightBtn.Text = fullbrightEnabled and "üí° ON" or "üí° FULLBRIGHT"
	fullbrightBtn.BackgroundColor3 = fullbrightEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
	game:GetService("Lighting").Brightness = fullbrightEnabled and 2 or 1
	game:GetService("Lighting").ClockTime = fullbrightEnabled and 14 or 12
	game:GetService("Lighting").FogEnd = fullbrightEnabled and 100000 or 500
end)

local removeBlurBtn = Instance.new("TextButton")
removeBlurBtn.Size = UDim2.new(0.48, -5, 0, 32)
removeBlurBtn.Position = UDim2.new(0, 12, 0, 100)
removeBlurBtn.Text = "üå´Ô∏è BLUR"
removeBlurBtn.Font = Enum.Font.GothamBold
removeBlurBtn.TextSize = 11
removeBlurBtn.BackgroundColor3 = Color3.fromRGB(100, 50, 150)
removeBlurBtn.TextColor3 = Color3.fromRGB(255,255,255)
removeBlurBtn.Parent = visualCard
Instance.new("UICorner", removeBlurBtn).CornerRadius = UDim.new(0, 8)
removeBlurBtn.MouseButton1Click:Connect(function()
	for _, obj in pairs(game:GetService("Lighting"):GetChildren()) do
		if obj:IsA("BlurEffect") or obj:IsA("BloomEffect") or obj:IsA("ColorCorrectionEffect") then
			obj:Destroy()
		end
	end
end)

local noFogBtn = Instance.new("TextButton")
noFogBtn.Size = UDim2.new(0.48, -5, 0, 32)
noFogBtn.Position = UDim2.new(0.52, 0, 0, 100)
noFogBtn.Text = "‚òÅÔ∏è FOG"
noFogBtn.Font = Enum.Font.GothamBold
noFogBtn.TextSize = 11
noFogBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
noFogBtn.TextColor3 = Color3.fromRGB(255,255,255)
noFogBtn.Parent = visualCard
Instance.new("UICorner", noFogBtn).CornerRadius = UDim.new(0, 8)
local noFogEnabled = false
noFogBtn.MouseButton1Click:Connect(function()
	noFogEnabled = not noFogEnabled
	noFogBtn.Text = noFogEnabled and "‚òÅÔ∏è ON" or "‚òÅÔ∏è FOG"
	noFogBtn.BackgroundColor3 = noFogEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
	game:GetService("Lighting").FogEnd = noFogEnabled and 100000 or 500
end)

local tracerLines = {}
local nametagsGuis = {}

RunService.RenderStepped:Connect(function()
	for _, line in pairs(tracerLines) do
		if line then line:Remove() end
	end
	tracerLines = {}
	if tracersEnabled then
		for _, player in ipairs(Players:GetPlayers()) do
			if player ~= LocalPlayer and player.Character then
				local part = player.Character:FindFirstChild("HumanoidRootPart")
				if part then
					local screenPos, onScreen = Camera:WorldToViewportPoint(part.Position)
					if onScreen and screenPos.Z > 0 then
						local line = Drawing.new("Line")
						line.From = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y)
						line.To = Vector2.new(screenPos.X, screenPos.Y)
						line.Color = Color3.fromRGB(139, 92, 246)
						line.Thickness = 2
						line.Transparency = 1
						line.Visible = true
						table.insert(tracerLines, line)
					end
				end
			end
		end
	end
	
	for player, gui in pairs(nametagsGuis) do
		if gui then gui:Destroy() end
	end
	nametagsGuis = {}
	
	if nametagsEnabled then
		for _, player in ipairs(Players:GetPlayers()) do
			if player ~= LocalPlayer and player.Character then
				local head = player.Character:FindFirstChild("Head")
				if head then
					local billboard = Instance.new("BillboardGui")
					billboard.Adornee = head
					billboard.Size = UDim2.new(0, 200, 0, 50)
					billboard.StudsOffset = Vector3.new(0, 2, 0)
					billboard.AlwaysOnTop = true
					billboard.Parent = head
					
					local nameLabel = Instance.new("TextLabel")
					nameLabel.Size = UDim2.new(1, 0, 1, 0)
					nameLabel.BackgroundTransparency = 1
					nameLabel.Text = player.Name
					nameLabel.Font = Enum.Font.GothamBold
					nameLabel.TextSize = 14
					nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
					nameLabel.TextStrokeTransparency = 0.5
					nameLabel.Parent = billboard
					
					nametagsGuis[player] = billboard
				end
			end
		end
	end
end)

local visionBottomRow = Instance.new("Frame")
visionBottomRow.Size = UDim2.new(1, 0, 0, 100)
visionBottomRow.Position = UDim2.new(0, 0, 0, 150)
visionBottomRow.BackgroundTransparency = 1
visionBottomRow.Parent = visionPage

local tracersCard = Instance.new("Frame")
tracersCard.Size = UDim2.new(0.48, -5, 1, 0)
tracersCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
tracersCard.Parent = visionBottomRow
Instance.new("UICorner", tracersCard).CornerRadius = UDim.new(0, 12)
local tracersStroke = Instance.new("UIStroke", tracersCard)
tracersStroke.Color = Color3.fromRGB(139, 92, 246)
tracersStroke.Thickness = 2
tracersStroke.Transparency = 0.7

local tracersIcon = Instance.new("TextLabel")
tracersIcon.Size = UDim2.new(0, 30, 0, 30)
tracersIcon.Position = UDim2.new(0, 12, 0, 12)
tracersIcon.BackgroundColor3 = Color3.fromRGB(139, 92, 246)
tracersIcon.BackgroundTransparency = 0.8
tracersIcon.Text = "üìè"
tracersIcon.Font = Enum.Font.GothamBold
tracersIcon.TextSize = 16
tracersIcon.TextColor3 = Color3.fromRGB(255,255,255)
tracersIcon.Parent = tracersCard
Instance.new("UICorner", tracersIcon).CornerRadius = UDim.new(0, 8)

local tracersTitle = Instance.new("TextLabel")
tracersTitle.Size = UDim2.new(1, -120, 0, 16)
tracersTitle.Position = UDim2.new(0, 50, 0, 14)
tracersTitle.BackgroundTransparency = 1
tracersTitle.Font = Enum.Font.GothamBold
tracersTitle.TextSize = 13
tracersTitle.TextColor3 = Color3.fromRGB(255,255,255)
tracersTitle.TextXAlignment = Enum.TextXAlignment.Left
tracersTitle.Text = "TRACERS"
tracersTitle.Parent = tracersCard

local tracersBtn = Instance.new("TextButton")
tracersBtn.Size = UDim2.new(0, 70, 0, 26)
tracersBtn.Position = UDim2.new(1, -80, 0, 12)
tracersBtn.Text = "OFF"
tracersBtn.Font = Enum.Font.GothamBold
tracersBtn.TextSize = 11
tracersBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
tracersBtn.TextColor3 = Color3.fromRGB(255,255,255)
tracersBtn.Parent = tracersCard
Instance.new("UICorner", tracersBtn).CornerRadius = UDim.new(0, 8)
local tracersEnabled = false
tracersBtn.MouseButton1Click:Connect(function()
	tracersEnabled = not tracersEnabled
	tracersBtn.Text = tracersEnabled and "ON" or "OFF"
	tracersBtn.BackgroundColor3 = tracersEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

local nametagsCard = Instance.new("Frame")
nametagsCard.Size = UDim2.new(0.48, -5, 1, 0)
nametagsCard.Position = UDim2.new(0.52, 0, 0, 0)
nametagsCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
nametagsCard.Parent = visionBottomRow
Instance.new("UICorner", nametagsCard).CornerRadius = UDim.new(0, 12)
local nametagsStroke = Instance.new("UIStroke", nametagsCard)
nametagsStroke.Color = Color3.fromRGB(255, 100, 150)
nametagsStroke.Thickness = 2
nametagsStroke.Transparency = 0.7

local nametagsIcon = Instance.new("TextLabel")
nametagsIcon.Size = UDim2.new(0, 30, 0, 30)
nametagsIcon.Position = UDim2.new(0, 12, 0, 12)
nametagsIcon.BackgroundColor3 = Color3.fromRGB(255, 100, 150)
nametagsIcon.BackgroundTransparency = 0.8
nametagsIcon.Text = "üè∑Ô∏è"
nametagsIcon.Font = Enum.Font.GothamBold
nametagsIcon.TextSize = 16
nametagsIcon.TextColor3 = Color3.fromRGB(255,255,255)
nametagsIcon.Parent = nametagsCard
Instance.new("UICorner", nametagsIcon).CornerRadius = UDim.new(0, 8)

local nametagsTitle = Instance.new("TextLabel")
nametagsTitle.Size = UDim2.new(1, -120, 0, 16)
nametagsTitle.Position = UDim2.new(0, 50, 0, 14)
nametagsTitle.BackgroundTransparency = 1
nametagsTitle.Font = Enum.Font.GothamBold
nametagsTitle.TextSize = 13
nametagsTitle.TextColor3 = Color3.fromRGB(255,255,255)
nametagsTitle.TextXAlignment = Enum.TextXAlignment.Left
nametagsTitle.Text = "NAMETAGS"
nametagsTitle.Parent = nametagsCard

local nametagsBtn = Instance.new("TextButton")
nametagsBtn.Size = UDim2.new(0, 70, 0, 26)
nametagsBtn.Position = UDim2.new(1, -80, 0, 12)
nametagsBtn.Text = "OFF"
nametagsBtn.Font = Enum.Font.GothamBold
nametagsBtn.TextSize = 11
nametagsBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
nametagsBtn.TextColor3 = Color3.fromRGB(255,255,255)
nametagsBtn.Parent = nametagsCard
Instance.new("UICorner", nametagsBtn).CornerRadius = UDim.new(0, 8)
local nametagsEnabled = false
nametagsBtn.MouseButton1Click:Connect(function()
	nametagsEnabled = not nametagsEnabled
	nametagsBtn.Text = nametagsEnabled and "ON" or "OFF"
	nametagsBtn.BackgroundColor3 = nametagsEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

local nametagsDistBtn = Instance.new("TextButton")
nametagsDistBtn.Size = UDim2.new(0.48, -5, 0, 28)
nametagsDistBtn.Position = UDim2.new(0, 12, 0, 60)
nametagsDistBtn.Text = "üìç DIST"
nametagsDistBtn.Font = Enum.Font.GothamBold
nametagsDistBtn.TextSize = 10
nametagsDistBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
nametagsDistBtn.TextColor3 = Color3.fromRGB(255,255,255)
nametagsDistBtn.Parent = nametagsCard
Instance.new("UICorner", nametagsDistBtn).CornerRadius = UDim.new(0, 8)

local nametagsHealthBtn = Instance.new("TextButton")
nametagsHealthBtn.Size = UDim2.new(0.48, -5, 0, 28)
nametagsHealthBtn.Position = UDim2.new(0.52, 0, 0, 60)
nametagsHealthBtn.Text = "‚ù§Ô∏è VIDA"
nametagsHealthBtn.Font = Enum.Font.GothamBold
nametagsHealthBtn.TextSize = 10
nametagsHealthBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
nametagsHealthBtn.TextColor3 = Color3.fromRGB(255,255,255)
nametagsHealthBtn.Parent = nametagsCard
Instance.new("UICorner", nametagsHealthBtn).CornerRadius = UDim.new(0, 8)

local visionInfo = Instance.new("TextLabel")
visionInfo.Size = UDim2.new(1, 0, 0, 70)
visionInfo.Position = UDim2.new(0, 0, 0, 260)
visionInfo.BackgroundColor3 = Color3.fromRGB(28,28,38)
visionInfo.Font = Enum.Font.Gotham
visionInfo.TextSize = 11
visionInfo.TextColor3 = Color3.fromRGB(180,180,200)
visionInfo.TextWrapped = true
visionInfo.Text = "  üí° DICAS:\n  ‚Ä¢ ESP mostra jogadores atrav√©s de paredes | ‚Ä¢ Fullbright ilumina tudo\n  ‚Ä¢ Tracers desenha linhas | ‚Ä¢ Nametags mostra informa√ß√µes"
visionInfo.Parent = visionPage
Instance.new("UICorner", visionInfo).CornerRadius = UDim.new(0, 12)

local miscTopRow = Instance.new("Frame")
miscTopRow.Size = UDim2.new(1, 0, 0, 180)
miscTopRow.BackgroundTransparency = 1
miscTopRow.Parent = miscPage

local characterCard = Instance.new("Frame")
characterCard.Size = UDim2.new(0.48, -5, 1, 0)
characterCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
characterCard.Parent = miscTopRow
Instance.new("UICorner", characterCard).CornerRadius = UDim.new(0, 12)
local charStroke = Instance.new("UIStroke", characterCard)
charStroke.Color = Color3.fromRGB(255, 100, 100)
charStroke.Thickness = 2
charStroke.Transparency = 0.7

local charIcon = Instance.new("TextLabel")
charIcon.Size = UDim2.new(0, 35, 0, 35)
charIcon.Position = UDim2.new(0, 12, 0, 12)
charIcon.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
charIcon.BackgroundTransparency = 0.8
charIcon.Text = "üõ°Ô∏è"
charIcon.Font = Enum.Font.GothamBold
charIcon.TextSize = 18
charIcon.TextColor3 = Color3.fromRGB(255,255,255)
charIcon.Parent = characterCard
Instance.new("UICorner", charIcon).CornerRadius = UDim.new(0, 8)

local charTitle = Instance.new("TextLabel")
charTitle.Size = UDim2.new(1, -60, 0, 18)
charTitle.Position = UDim2.new(0, 55, 0, 15)
charTitle.BackgroundTransparency = 1
charTitle.Font = Enum.Font.GothamBold
charTitle.TextSize = 14
charTitle.TextColor3 = Color3.fromRGB(255,255,255)
charTitle.TextXAlignment = Enum.TextXAlignment.Left
charTitle.Text = "PERSONAGEM"
charTitle.Parent = characterCard

local charSubtitle = Instance.new("TextLabel")
charSubtitle.Size = UDim2.new(1, -60, 0, 14)
charSubtitle.Position = UDim2.new(0, 55, 0, 32)
charSubtitle.BackgroundTransparency = 1
charSubtitle.Font = Enum.Font.Gotham
charSubtitle.TextSize = 10
charSubtitle.TextColor3 = Color3.fromRGB(150,150,160)
charSubtitle.TextXAlignment = Enum.TextXAlignment.Left
charSubtitle.Text = "Modifica√ß√µes do personagem"
charSubtitle.Parent = characterCard

local godmodeBtn = Instance.new("TextButton")
godmodeBtn.Size = UDim2.new(1, -24, 0, 38)
godmodeBtn.Position = UDim2.new(0, 12, 0, 60)
godmodeBtn.Text = "üõ°Ô∏è GODMODE"
godmodeBtn.Font = Enum.Font.GothamBold
godmodeBtn.TextSize = 13
godmodeBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
godmodeBtn.TextColor3 = Color3.fromRGB(255,255,255)
godmodeBtn.Parent = characterCard
Instance.new("UICorner", godmodeBtn).CornerRadius = UDim.new(0, 8)
local godmodeEnabled = false
godmodeBtn.MouseButton1Click:Connect(function()
	godmodeEnabled = not godmodeEnabled
	godmodeBtn.Text = godmodeEnabled and "üõ°Ô∏è ON" or "üõ°Ô∏è GODMODE"
	godmodeBtn.BackgroundColor3 = godmodeEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
	if LocalPlayer.Character then
		local hum = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		if hum and godmodeEnabled then
			hum.MaxHealth = math.huge
			hum.Health = math.huge
		end
	end
end)

local infJumpBtn = Instance.new("TextButton")
infJumpBtn.Size = UDim2.new(0.48, -5, 0, 38)
infJumpBtn.Position = UDim2.new(0, 12, 0, 108)
infJumpBtn.Text = "ü¶ò INF JUMP"
infJumpBtn.Font = Enum.Font.GothamBold
infJumpBtn.TextSize = 12
infJumpBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
infJumpBtn.TextColor3 = Color3.fromRGB(255,255,255)
infJumpBtn.Parent = characterCard
Instance.new("UICorner", infJumpBtn).CornerRadius = UDim.new(0, 8)
local infJumpEnabled = false
infJumpBtn.MouseButton1Click:Connect(function()
	infJumpEnabled = not infJumpEnabled
	infJumpBtn.Text = infJumpEnabled and "ü¶ò ON" or "ü¶ò INF JUMP"
	infJumpBtn.BackgroundColor3 = infJumpEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)
UserInputService.JumpRequest:Connect(function()
	if infJumpEnabled and LocalPlayer.Character then
		local hum = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		if hum then hum:ChangeState(Enum.HumanoidStateType.Jumping) end
	end
end)

local bhopBtn = Instance.new("TextButton")
bhopBtn.Size = UDim2.new(0.48, -5, 0, 38)
bhopBtn.Position = UDim2.new(0.52, 0, 0, 108)
bhopBtn.Text = "üêá BHOP"
bhopBtn.Font = Enum.Font.GothamBold
bhopBtn.TextSize = 12
bhopBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
bhopBtn.TextColor3 = Color3.fromRGB(255,255,255)
bhopBtn.Parent = characterCard
Instance.new("UICorner", bhopBtn).CornerRadius = UDim.new(0, 8)
local bhopEnabled = false
bhopBtn.MouseButton1Click:Connect(function()
	bhopEnabled = not bhopEnabled
	bhopBtn.Text = bhopEnabled and "üêá ON" or "üêá BHOP"
	bhopBtn.BackgroundColor3 = bhopEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)
RunService.Heartbeat:Connect(function()
	if bhopEnabled and LocalPlayer.Character then
		local hum = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
		if hum and hum.MoveDirection.Magnitude > 0 then
			hum:ChangeState(Enum.HumanoidStateType.Jumping)
		end
	end
end)

local utilityCard = Instance.new("Frame")
utilityCard.Size = UDim2.new(0.48, -5, 1, 0)
utilityCard.Position = UDim2.new(0.52, 0, 0, 0)
utilityCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
utilityCard.Parent = miscTopRow
Instance.new("UICorner", utilityCard).CornerRadius = UDim.new(0, 12)
local utilStroke = Instance.new("UIStroke", utilityCard)
utilStroke.Color = Color3.fromRGB(100, 200, 255)
utilStroke.Thickness = 2
utilStroke.Transparency = 0.7

local utilIcon = Instance.new("TextLabel")
utilIcon.Size = UDim2.new(0, 35, 0, 35)
utilIcon.Position = UDim2.new(0, 12, 0, 12)
utilIcon.BackgroundColor3 = Color3.fromRGB(100, 200, 255)
utilIcon.BackgroundTransparency = 0.8
utilIcon.Text = "‚öôÔ∏è"
utilIcon.Font = Enum.Font.GothamBold
utilIcon.TextSize = 18
utilIcon.TextColor3 = Color3.fromRGB(255,255,255)
utilIcon.Parent = utilityCard
Instance.new("UICorner", utilIcon).CornerRadius = UDim.new(0, 8)

local utilTitle = Instance.new("TextLabel")
utilTitle.Size = UDim2.new(1, -60, 0, 18)
utilTitle.Position = UDim2.new(0, 55, 0, 15)
utilTitle.BackgroundTransparency = 1
utilTitle.Font = Enum.Font.GothamBold
utilTitle.TextSize = 14
utilTitle.TextColor3 = Color3.fromRGB(255,255,255)
utilTitle.TextXAlignment = Enum.TextXAlignment.Left
utilTitle.Text = "UTILIDADES"
utilTitle.Parent = utilityCard

local utilSubtitle = Instance.new("TextLabel")
utilSubtitle.Size = UDim2.new(1, -60, 0, 14)
utilSubtitle.Position = UDim2.new(0, 55, 0, 32)
utilSubtitle.BackgroundTransparency = 1
utilSubtitle.Font = Enum.Font.Gotham
utilSubtitle.TextSize = 10
utilSubtitle.TextColor3 = Color3.fromRGB(150,150,160)
utilSubtitle.TextXAlignment = Enum.TextXAlignment.Left
utilSubtitle.Text = "Ferramentas √∫teis"
utilSubtitle.Parent = utilityCard

local antiAfkBtn = Instance.new("TextButton")
antiAfkBtn.Size = UDim2.new(1, -24, 0, 38)
antiAfkBtn.Position = UDim2.new(0, 12, 0, 60)
antiAfkBtn.Text = "‚è∞ ANTI-AFK"
antiAfkBtn.Font = Enum.Font.GothamBold
antiAfkBtn.TextSize = 13
antiAfkBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
antiAfkBtn.TextColor3 = Color3.fromRGB(255,255,255)
antiAfkBtn.Parent = utilityCard
Instance.new("UICorner", antiAfkBtn).CornerRadius = UDim.new(0, 8)
local antiAfkEnabled = false
local antiAfkConnection
antiAfkBtn.MouseButton1Click:Connect(function()
	antiAfkEnabled = not antiAfkEnabled
	antiAfkBtn.Text = antiAfkEnabled and "‚è∞ ON" or "‚è∞ ANTI-AFK"
	antiAfkBtn.BackgroundColor3 = antiAfkEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
	if antiAfkEnabled then
		antiAfkConnection = game:GetService("VirtualUser"):CaptureController()
		game:GetService("Players").LocalPlayer.Idled:Connect(function()
			game:GetService("VirtualUser"):ClickButton2(Vector2.new())
		end)
	end
end)

local removeBlurBtn = Instance.new("TextButton")
removeBlurBtn.Size = UDim2.new(0.48, -5, 0, 38)
removeBlurBtn.Position = UDim2.new(0, 12, 0, 108)
removeBlurBtn.Text = "üå´Ô∏è BLUR"
removeBlurBtn.Font = Enum.Font.GothamBold
removeBlurBtn.TextSize = 12
removeBlurBtn.BackgroundColor3 = Color3.fromRGB(100, 50, 150)
removeBlurBtn.TextColor3 = Color3.fromRGB(255,255,255)
removeBlurBtn.Parent = utilityCard
Instance.new("UICorner", removeBlurBtn).CornerRadius = UDim.new(0, 8)
removeBlurBtn.MouseButton1Click:Connect(function()
	for _, obj in pairs(game:GetService("Lighting"):GetChildren()) do
		if obj:IsA("BlurEffect") or obj:IsA("BloomEffect") or obj:IsA("ColorCorrectionEffect") then
			obj:Destroy()
		end
	end
end)

local chatSpamBtn = Instance.new("TextButton")
chatSpamBtn.Size = UDim2.new(0.48, -5, 0, 38)
chatSpamBtn.Position = UDim2.new(0.52, 0, 0, 108)
chatSpamBtn.Text = "üí¨ SPAM"
chatSpamBtn.Font = Enum.Font.GothamBold
chatSpamBtn.TextSize = 12
chatSpamBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
chatSpamBtn.TextColor3 = Color3.fromRGB(255,255,255)
chatSpamBtn.Parent = utilityCard
Instance.new("UICorner", chatSpamBtn).CornerRadius = UDim.new(0, 8)
local chatSpamEnabled = false
local chatSpamConnection
chatSpamBtn.MouseButton1Click:Connect(function()
	chatSpamEnabled = not chatSpamEnabled
	chatSpamBtn.Text = chatSpamEnabled and "üí¨ ON" or "üí¨ SPAM"
	chatSpamBtn.BackgroundColor3 = chatSpamEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
	if chatSpamEnabled then
		chatSpamConnection = RunService.Heartbeat:Connect(function()
			game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer("Admin Panel PRO", "All")
			task.wait(2)
		end)
	else
		if chatSpamConnection then
			chatSpamConnection:Disconnect()
		end
	end
end)

local infoCard = Instance.new("Frame")
infoCard.Size = UDim2.new(1, 0, 0, 110)
infoCard.Position = UDim2.new(0, 0, 0, 190)
infoCard.BackgroundColor3 = Color3.fromRGB(28,28,38)
infoCard.Parent = miscPage
Instance.new("UICorner", infoCard).CornerRadius = UDim.new(0, 12)
local infoStroke = Instance.new("UIStroke", infoCard)
infoStroke.Color = Color3.fromRGB(139, 92, 246)
infoStroke.Thickness = 2
infoStroke.Transparency = 0.7

local infoIconLabel = Instance.new("TextLabel")
infoIconLabel.Size = UDim2.new(0, 40, 0, 40)
infoIconLabel.Position = UDim2.new(0, 12, 0, 12)
infoIconLabel.BackgroundColor3 = Color3.fromRGB(139, 92, 246)
infoIconLabel.BackgroundTransparency = 0.8
infoIconLabel.Text = "‚ÑπÔ∏è"
infoIconLabel.Font = Enum.Font.GothamBold
infoIconLabel.TextSize = 20
infoIconLabel.TextColor3 = Color3.fromRGB(255,255,255)
infoIconLabel.Parent = infoCard
Instance.new("UICorner", infoIconLabel).CornerRadius = UDim.new(0, 10)

local infoTitleLabel = Instance.new("TextLabel")
infoTitleLabel.Size = UDim2.new(1, -70, 0, 20)
infoTitleLabel.Position = UDim2.new(0, 60, 0, 15)
infoTitleLabel.BackgroundTransparency = 1
infoTitleLabel.Font = Enum.Font.GothamBold
infoTitleLabel.TextSize = 15
infoTitleLabel.TextColor3 = Color3.fromRGB(255,255,255)
infoTitleLabel.TextXAlignment = Enum.TextXAlignment.Left
infoTitleLabel.Text = "ATALHOS DO TECLADO"
infoTitleLabel.Parent = infoCard

local infoText = Instance.new("TextLabel")
infoText.Size = UDim2.new(1, -24, 0, 60)
infoText.Position = UDim2.new(0, 12, 0, 45)
infoText.BackgroundTransparency = 1
infoText.Font = Enum.Font.Gotham
infoText.TextSize = 12
infoText.TextColor3 = Color3.fromRGB(180,180,200)
infoText.TextWrapped = true
infoText.TextXAlignment = Enum.TextXAlignment.Left
infoText.TextYAlignment = Enum.TextYAlignment.Top
infoText.Text = "‚Ä¢ M: Abrir/Fechar painel | ‚Ä¢ F: Toggle Fly r√°pido\n‚Ä¢ WASD: Movimento | ‚Ä¢ Space: Subir | ‚Ä¢ Ctrl: Descer"
infoText.Parent = infoCard

local function updatePlayersList()
	for _, child in ipairs(playersList:GetChildren()) do
		if child:IsA("TextButton") then child:Destroy() end
	end
	playerButtons = {}
	local searchText = searchBox.Text:lower()
	for _, player in ipairs(Players:GetPlayers()) do
		if player ~= LocalPlayer then
			if searchText == "" or player.Name:lower():find(searchText, 1, true) then
				createPlayerButton(player)
			end
		end
	end
	playersList.CanvasSize = UDim2.new(0, 0, 0, playersLayout.AbsoluteContentSize.Y + 12)
end

searchBox:GetPropertyChangedSignal("Text"):Connect(function()
	updatePlayersList()
end)

local function setTab(which)
	tabPlayers.BackgroundColor3 = Color3.fromRGB(28,28,38)
	tabPlayers.TextColor3 = Color3.fromRGB(160,160,170)
	tabPlayers:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(45,45,55)
	tabPlayers:FindFirstChildOfClass("UIStroke").Transparency=0.6
	tabMovement.BackgroundColor3 = Color3.fromRGB(28,28,38)
	tabMovement.TextColor3 = Color3.fromRGB(160,160,170)
	tabMovement:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(45,45,55)
	tabMovement:FindFirstChildOfClass("UIStroke").Transparency=0.6
	tabAimbot.BackgroundColor3 = Color3.fromRGB(28,28,38)
	tabAimbot.TextColor3 = Color3.fromRGB(160,160,170)
	tabAimbot:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(45,45,55)
	tabAimbot:FindFirstChildOfClass("UIStroke").Transparency=0.6
	tabClicker.BackgroundColor3 = Color3.fromRGB(28,28,38)
	tabClicker.TextColor3 = Color3.fromRGB(160,160,170)
	tabClicker:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(45,45,55)
	tabClicker:FindFirstChildOfClass("UIStroke").Transparency=0.6
	tabVision.BackgroundColor3 = Color3.fromRGB(28,28,38)
	tabVision.TextColor3 = Color3.fromRGB(160,160,170)
	tabVision:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(45,45,55)
	tabVision:FindFirstChildOfClass("UIStroke").Transparency=0.6
	tabMisc.BackgroundColor3 = Color3.fromRGB(28,28,38)
	tabMisc.TextColor3 = Color3.fromRGB(160,160,170)
	tabMisc:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(45,45,55)
	tabMisc:FindFirstChildOfClass("UIStroke").Transparency=0.6
	playersPage.Visible=false; movementPage.Visible=false; aimbotPage.Visible=false; clickerPage.Visible=false; visionPage.Visible=false; miscPage.Visible=false
	if which=="PLAYERS" then 
		tabPlayers.BackgroundColor3=Color3.fromRGB(139, 92, 246)
		tabPlayers.TextColor3=Color3.fromRGB(255,255,255)
		tabPlayers:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(139, 92, 246)
		tabPlayers:FindFirstChildOfClass("UIStroke").Transparency=0.3
		playersPage.Visible=true
	elseif which=="MOVEMENT" then 
		tabMovement.BackgroundColor3=Color3.fromRGB(139, 92, 246)
		tabMovement.TextColor3=Color3.fromRGB(255,255,255)
		tabMovement:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(139, 92, 246)
		tabMovement:FindFirstChildOfClass("UIStroke").Transparency=0.3
		movementPage.Visible=true
	elseif which=="AIMBOT" then 
		tabAimbot.BackgroundColor3=Color3.fromRGB(139, 92, 246)
		tabAimbot.TextColor3=Color3.fromRGB(255,255,255)
		tabAimbot:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(139, 92, 246)
		tabAimbot:FindFirstChildOfClass("UIStroke").Transparency=0.3
		aimbotPage.Visible=true
	elseif which=="CLICKER" then 
		tabClicker.BackgroundColor3=Color3.fromRGB(139, 92, 246)
		tabClicker.TextColor3=Color3.fromRGB(255,255,255)
		tabClicker:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(139, 92, 246)
		tabClicker:FindFirstChildOfClass("UIStroke").Transparency=0.3
		clickerPage.Visible=true
	elseif which=="VISION" then 
		tabVision.BackgroundColor3=Color3.fromRGB(139, 92, 246)
		tabVision.TextColor3=Color3.fromRGB(255,255,255)
		tabVision:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(139, 92, 246)
		tabVision:FindFirstChildOfClass("UIStroke").Transparency=0.3
		visionPage.Visible=true
	else 
		tabMisc.BackgroundColor3=Color3.fromRGB(139, 92, 246)
		tabMisc.TextColor3=Color3.fromRGB(255,255,255)
		tabMisc:FindFirstChildOfClass("UIStroke").Color=Color3.fromRGB(139, 92, 246)
		tabMisc:FindFirstChildOfClass("UIStroke").Transparency=0.3
		miscPage.Visible=true 
	end
end
tabPlayers.MouseButton1Click:Connect(function() setTab("PLAYERS") end)
tabMovement.MouseButton1Click:Connect(function() setTab("MOVEMENT") end)
tabAimbot.MouseButton1Click:Connect(function() setTab("AIMBOT") end)
tabClicker.MouseButton1Click:Connect(function() setTab("CLICKER") end)
tabVision.MouseButton1Click:Connect(function() setTab("VISION") end)
tabMisc.MouseButton1Click:Connect(function() setTab("MISC") end)

closeBtn.MouseButton1Click:Connect(function() 
	frame.Visible = false
	panelVisible = false
	if prevMouseBehavior then UserInputService.MouseBehavior = prevMouseBehavior end
	if prevMouseIconEnabled ~= nil then UserInputService.MouseIconEnabled = prevMouseIconEnabled end
end)

local function showPanel(show)
	if panelVisible == show then return end
	panelVisible = show
	frame.Visible = show
	if show then
		prevMouseBehavior = UserInputService.MouseBehavior
		prevMouseIconEnabled = UserInputService.MouseIconEnabled
		UserInputService.MouseBehavior = Enum.MouseBehavior.Default
		UserInputService.MouseIconEnabled = true
		updatePlayersList()
	else
		if prevMouseBehavior then UserInputService.MouseBehavior = prevMouseBehavior end
		if prevMouseIconEnabled ~= nil then UserInputService.MouseIconEnabled = prevMouseIconEnabled end
	end
end

UserInputService.InputBegan:Connect(function(input, processed)
	if processed then return end
	if input.KeyCode == Enum.KeyCode.M then 
		showPanel(not panelVisible)
	elseif input.KeyCode == autoClickerKey then
		autoClickerEnabled = not autoClickerEnabled
		clickerToggle.Text = autoClickerEnabled and "AUTO CLICKER: ON" or "AUTO CLICKER: OFF"
		clickerToggle.BackgroundColor3 = autoClickerEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
	elseif input.KeyCode == Enum.KeyCode.F then
		FlySystem:toggleFly()
		flyToggle.Text = FlySystem.flying and "FLY: ON" or "FLY: OFF"
		flyToggle.BackgroundColor3 = FlySystem.flying and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
	end
end)

Players.PlayerAdded:Connect(function(p) 
	task.wait(0.5)
	updatePlayersList()
	if espEnabled then updateESP() end
end)

Players.PlayerRemoving:Connect(function(p)
	if playerButtons[p] then playerButtons[p]:Destroy(); playerButtons[p] = nil end
	if selectedPlayer == p then selectedPlayer = nil; selectedPlayerTitle.Text = "SELECIONE UM JOGADOR" end
	if spectating == p then stopSpectate() end
	if espHighlights[p] then
		espHighlights[p]:Destroy()
		espHighlights[p] = nil
	end
end)

LocalPlayer.CharacterAdded:Connect(function(char)
	local hum = char:WaitForChild("Humanoid")
	hum.Died:Connect(function()
		FlySystem:disableFly()
		if flyToggle then
			flyToggle.Text = "FLY: OFF"
			flyToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
		end
	end)
end)

FlySystem:init()
updatePlayersList()
setTab("PLAYERS")
print("‚úÖ Admin Panel PRO carregado!")
print("üîë Pressione M para abrir o menu")
print("üéØ Tecla Aimbot: " .. aimbotKeyName)
