-- CASAIS SCRIPTER - Admin Panel PRO
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local VirtualInputManager = game:GetService("VirtualInputManager")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- Vari√°veis Globais
local panelVisible = false
local prevMouseBehavior, prevMouseIconEnabled
local spectating, savedSubject, savedCamType
local selectedPlayer, playerButtons = nil, {}

-- Sistema de Voo
local FlySystem = {
    flying = false, noclip = false, speed = 50,
    bodyGyro = nil, bodyVelocity = nil,
    control = {F=0, B=0, L=0, R=0, U=0, D=0}
}

function FlySystem:toggleFly()
    self.flying = not self.flying
    local char = LocalPlayer.Character
    if not char then return end
    local hrp = char:FindFirstChild("HumanoidRootPart")
    if not hrp then return end
    
    if self.flying then
        self.bodyGyro = Instance.new("BodyGyro", hrp)
        self.bodyGyro.MaxTorque = Vector3.new(4e5, 4e5, 4e5)
        self.bodyGyro.D = 1000
        self.bodyGyro.CFrame = hrp.CFrame
        self.bodyVelocity = Instance.new("BodyVelocity", hrp)
        self.bodyVelocity.MaxForce = Vector3.new(4e5, 4e5, 4e5)
        self.bodyVelocity.Velocity = Vector3.zero
    else
        if self.bodyGyro then self.bodyGyro:Destroy() end
        if self.bodyVelocity then self.bodyVelocity:Destroy() end
        self.bodyGyro, self.bodyVelocity = nil, nil
    end
end

function FlySystem:disableFly()
    if self.flying then
        self.flying = false
        if self.bodyGyro then self.bodyGyro:Destroy() end
        if self.bodyVelocity then self.bodyVelocity:Destroy() end
        self.bodyGyro, self.bodyVelocity = nil, nil
    end
end

function FlySystem:toggleNoclip()
    self.noclip = not self.noclip
end

function FlySystem:init()
    UserInputService.InputBegan:Connect(function(input, gpe)
        if gpe then return end
        if input.KeyCode == Enum.KeyCode.W then self.control.F = 1
        elseif input.KeyCode == Enum.KeyCode.S then self.control.B = 1
        elseif input.KeyCode == Enum.KeyCode.A then self.control.L = 1
        elseif input.KeyCode == Enum.KeyCode.D then self.control.R = 1
        elseif input.KeyCode == Enum.KeyCode.Space then self.control.U = 1
        elseif input.KeyCode == Enum.KeyCode.LeftControl then self.control.D = 1 end
    end)
    
    UserInputService.InputEnded:Connect(function(input, gpe)
        if gpe then return end
        if input.KeyCode == Enum.KeyCode.W then self.control.F = 0
        elseif input.KeyCode == Enum.KeyCode.S then self.control.B = 0
        elseif input.KeyCode == Enum.KeyCode.A then self.control.L = 0
        elseif input.KeyCode == Enum.KeyCode.D then self.control.R = 0
        elseif input.KeyCode == Enum.KeyCode.Space then self.control.U = 0
        elseif input.KeyCode == Enum.KeyCode.LeftControl then self.control.D = 0 end
    end)
    
    RunService.RenderStepped:Connect(function()
        local char = LocalPlayer.Character
        if not char then return end
        local hrp = char:FindFirstChild("HumanoidRootPart")
        if not hrp then return end
        
        if self.noclip then
            for _, v in pairs(char:GetDescendants()) do
                if v:IsA("BasePart") and v.CanCollide then v.CanCollide = false end
            end
        end
        
        if self.flying then
            local cam = workspace.CurrentCamera
            local moveVec = Vector3.zero
            local forward, right = cam.CFrame.LookVector, cam.CFrame.RightVector
            moveVec = moveVec + forward * (self.control.F - self.control.B) + right * (self.control.R - self.control.L) + Vector3.new(0,1,0) * (self.control.U - self.control.D)
            if moveVec.Magnitude > 0 then
                hrp.CFrame = hrp.CFrame + moveVec.Unit * self.speed
            end
        end
    end)
end

-- Vari√°veis Aimbot
local aimbotEnabled = false
local aimbotFOV = 80
local aimbotTarget = "Head"
local aimbotKey = Enum.UserInputType.MouseButton2
local aimbotKeyName = "Bot√£o Direito"
local aimbotSmooth = 5
local aimbotMaxDistance = 500
local fovCircle = nil
local waitingForKey = false
local aimbotKeyPressed = false

-- Vari√°veis Auto Clicker
local autoClickerEnabled = false
local autoClickerSpeed = 50
local autoClickerKey = Enum.KeyCode.C
local autoClickerKeyName = "C"
local waitingForClickerKey = false
local lastClickTime = 0

-- Vari√°veis ESP
local espEnabled = true
local espMode = "TEAM"
local espHighlights = {}
local tracersEnabled = false
local nametagsEnabled = false
local tracerLines = {}
local nametagsGuis = {}

-- Vari√°veis Speed
local speedBoostActive = false
local speedConnection = nil
local currentSpeed = 16

-- Fun√ß√µes Auxiliares
local function isSameTeam(player)
    if not LocalPlayer.Team or not player.Team then return false end
    return LocalPlayer.Team == player.Team
end

local function getPrimaryPart(char)
    if not char then return nil end
    return char.PrimaryPart or char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso")
end

local function instantTPTo(targetPlayer)
    if not targetPlayer or targetPlayer == LocalPlayer then return end
    local char, targetChar = LocalPlayer.Character, targetPlayer.Character
    if not char or not targetChar then return end
    local srcPart, dstPart = getPrimaryPart(char), getPrimaryPart(targetChar)
    if not srcPart or not dstPart then return end
    char:PivotTo(CFrame.new(dstPart.Position + Vector3.new(0,3,0)))
end

local function startSpectate(p)
    if not p or p == LocalPlayer then return end
    local targetChar = p.Character
    if not targetChar then return end
    local hum = targetChar:FindFirstChildOfClass("Humanoid")
    if not hum then return end
    if not savedSubject then savedSubject = Camera.CameraSubject end
    if not savedCamType then savedCamType = Camera.CameraType end
    Camera.CameraType = Enum.CameraType.Custom
    Camera.CameraSubject = hum
    spectating = p
end

local function stopSpectate()
    if savedSubject then Camera.CameraSubject = savedSubject end
    if savedCamType then Camera.CameraType = savedCamType end
    spectating = nil
end

local function getClosestPlayer()
    local closestPlayer = nil
    local shortestDistance = aimbotFOV
    local mousePos = UserInputService:GetMouseLocation()
    
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and not isSameTeam(player) then
            local char = player.Character
            local hum = char:FindFirstChildOfClass("Humanoid")
            if hum and hum.Health > 0 then
                local targetPart = char:FindFirstChild(aimbotTarget)
                if targetPart and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    local distance3D = (targetPart.Position - LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
                    if distance3D <= aimbotMaxDistance then
                        local screenPos, onScreen = Camera:WorldToViewportPoint(targetPart.Position)
                        if onScreen and screenPos.Z > 0 then
                            local distance = (Vector2.new(screenPos.X, screenPos.Y) - mousePos).Magnitude
                            if distance < shortestDistance then
                                shortestDistance = distance
                                closestPlayer = player
                            end
                        end
                    end
                end
            end
        end
    end
    return closestPlayer
end

-- Aimbot Loop
RunService.RenderStepped:Connect(function()
    pcall(function()
        if aimbotEnabled then
            if not fovCircle and Drawing then
                fovCircle = Drawing.new("Circle")
                fovCircle.Thickness = 2
                fovCircle.NumSides = 50
                fovCircle.Filled = false
                fovCircle.Transparency = 1
                fovCircle.Color = Color3.fromRGB(255, 70, 70)
            end
            
            if fovCircle then
                local mousePos = UserInputService:GetMouseLocation()
                fovCircle.Position = mousePos
                fovCircle.Radius = aimbotFOV
                fovCircle.Visible = true
            end
            
            if aimbotKeyPressed then
                local target = getClosestPlayer()
                if target and target.Character then
                    local targetPart = target.Character:FindFirstChild(aimbotTarget)
                    if targetPart then
                        local targetPos = targetPart.Position
                        local currentCFrame = Camera.CFrame
                        local targetCFrame = CFrame.new(currentCFrame.Position, targetPos)
                        Camera.CFrame = currentCFrame:Lerp(targetCFrame, 1 / math.max(aimbotSmooth, 1))
                    end
                end
            end
        else
            if fovCircle then fovCircle.Visible = false end
        end
    end)
end)

-- Auto Clicker Loop
RunService.Heartbeat:Connect(function()
    if autoClickerEnabled then
        local currentTime = tick()
        if currentTime - lastClickTime >= autoClickerSpeed / 1000 then
            VirtualInputManager:SendMouseButtonEvent(0, 0, 0, true, game, 1)
            task.wait()
            VirtualInputManager:SendMouseButtonEvent(0, 0, 0, false, game, 1)
            lastClickTime = currentTime
        end
    end
end)

-- Interface Gr√°fica
local gui = Instance.new("ScreenGui")
gui.Name = "AdminPanel"
gui.ResetOnSpawn = false
gui.Parent = game.CoreGui

local frame = Instance.new("Frame")
frame.Size = UDim2.fromOffset(900, 620)
frame.Position = UDim2.new(0.5, -450, 0.5, -310)
frame.BackgroundColor3 = Color3.fromRGB(10,10,15)
frame.Active = true
frame.Draggable = true
frame.Visible = false
frame.Parent = gui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 18)

local frameStroke = Instance.new("UIStroke", frame)
frameStroke.Color = Color3.fromRGB(255, 200, 0)
frameStroke.Thickness = 3
frameStroke.Transparency = 0.3

local header = Instance.new("Frame")
header.Size = UDim2.new(1, 0, 0, 75)
header.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
header.BorderSizePixel = 0
header.Parent = frame
Instance.new("UICorner", header).CornerRadius = UDim.new(0, 18)
local headerCover = Instance.new("Frame")
headerCover.Size = UDim2.new(1, 0, 0, 30)
headerCover.Position = UDim2.new(0, 0, 1, -30)
headerCover.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
headerCover.BorderSizePixel = 0
headerCover.Parent = header

local titleIcon = Instance.new("TextLabel")
titleIcon.Size = UDim2.new(0, 50, 0, 50)
titleIcon.Position = UDim2.new(0, 15, 0, 10)
titleIcon.BackgroundColor3 = Color3.fromRGB(255, 200, 0)
titleIcon.BackgroundTransparency = 0.2
titleIcon.Text = "‚ö°"
titleIcon.Font = Enum.Font.GothamBold
titleIcon.TextSize = 28
titleIcon.TextColor3 = Color3.fromRGB(255,255,255)
titleIcon.Parent = header
Instance.new("UICorner", titleIcon).CornerRadius = UDim.new(0, 12)

local title = Instance.new("TextLabel")
title.BackgroundTransparency = 1
title.Size = UDim2.new(1, -120, 1, 0)
title.Position = UDim2.new(0, 75, 0, 0)
title.Font = Enum.Font.GothamBold
title.TextSize = 24
title.TextColor3 = Color3.new(1,1,1)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Text = "CASAIS SCRIPTER"
title.Parent = header

local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.fromOffset(45, 45)
closeBtn.Position = UDim2.new(1, -60, 0, 12)
closeBtn.Text = "‚úï"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 20
closeBtn.BackgroundColor3 = Color3.fromRGB(239, 68, 68)
closeBtn.TextColor3 = Color3.fromRGB(255,255,255)
closeBtn.Parent = header
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 10)

-- Tabs
local tabs = Instance.new("ScrollingFrame")
tabs.Size = UDim2.new(0, 150, 1, -95)
tabs.Position = UDim2.new(0, 15, 0, 85)
tabs.BackgroundTransparency = 1
tabs.BorderSizePixel = 0
tabs.ScrollBarThickness = 4
tabs.CanvasSize = UDim2.new(0,0,0,0)
tabs.AutomaticCanvasSize = Enum.AutomaticSize.Y
tabs.Parent = frame
local tabsLayout = Instance.new("UIListLayout", tabs)
tabsLayout.Padding = UDim.new(0,8)

local function makeTab(text, order)
    local b = Instance.new("TextButton")
    b.Size = UDim2.new(1, -8, 0, 50)
    b.Text = text
    b.Font = Enum.Font.GothamBold
    b.TextSize = 14
    b.BackgroundColor3 = Color3.fromRGB(20,20,30)
    b.TextColor3 = Color3.fromRGB(200,200,220)
    b.LayoutOrder = order
    b.Parent = tabs
    Instance.new("UICorner", b).CornerRadius = UDim.new(0, 12)
    local stroke = Instance.new("UIStroke", b)
    stroke.Color = Color3.fromRGB(0, 120, 255)
    stroke.Thickness = 2
    stroke.Transparency = 0.6
    return b
end

local tabPlayers = makeTab("üë• JOGADORES", 1)
local tabMovement = makeTab("üöÄ MOVIMENTO", 2)
local tabAimbot = makeTab("üéØ AIMBOT", 3)
local tabClicker = makeTab("üñ±Ô∏è CLICKER", 4)
local tabVision = makeTab("üëÅÔ∏è VIS√ÉO", 5)
local tabMisc = makeTab("‚öôÔ∏è MISC", 6)

-- Pages
local pages = Instance.new("Frame")
pages.Size = UDim2.new(1, -185, 1, -95)
pages.Position = UDim2.new(0, 175, 0, 85)
pages.BackgroundTransparency = 1
pages.Parent = frame

local function makePage()
    local p = Instance.new("ScrollingFrame")
    p.Size = UDim2.fromScale(1,1)
    p.BackgroundTransparency = 1
    p.BorderSizePixel = 0
    p.ScrollBarThickness = 6
    p.CanvasSize = UDim2.new(0,0,0,0)
    p.AutomaticCanvasSize = Enum.AutomaticSize.Y
    p.Visible = false
    p.Parent = pages
    local layout = Instance.new("UIListLayout", p)
    layout.Padding = UDim.new(0,10)
    return p
end

local playersPage = makePage(); playersPage.Visible = true
local movementPage = makePage()
local aimbotPage = makePage()
local clickerPage = makePage()
local visionPage = makePage()
local miscPage = makePage()

-- P√ÅGINA JOGADORES
playersPage:FindFirstChildOfClass("UIListLayout"):Destroy()

local playersListFrame = Instance.new("Frame")
playersListFrame.Size = UDim2.new(0.48, 0, 1, 0)
playersListFrame.BackgroundColor3 = Color3.fromRGB(15,15,25)
playersListFrame.Parent = playersPage
Instance.new("UICorner", playersListFrame).CornerRadius = UDim.new(0, 12)
Instance.new("UIStroke", playersListFrame).Color = Color3.fromRGB(45,45,55)

local playersListTitle = Instance.new("TextLabel")
playersListTitle.BackgroundTransparency = 1
playersListTitle.Size = UDim2.new(1, 0, 0, 40)
playersListTitle.Font = Enum.Font.GothamBold
playersListTitle.TextSize = 17
playersListTitle.TextColor3 = Color3.fromRGB(255,255,255)
playersListTitle.Text = "üë• JOGADORES ONLINE"
playersListTitle.Parent = playersListFrame

local searchBox = Instance.new("TextBox")
searchBox.Size = UDim2.new(1, -16, 0, 35)
searchBox.Position = UDim2.new(0, 8, 0, 45)
searchBox.BackgroundColor3 = Color3.fromRGB(5,5,12)
searchBox.PlaceholderText = "üîç Pesquisar jogador..."
searchBox.PlaceholderColor3 = Color3.fromRGB(100,100,110)
searchBox.Text = ""
searchBox.Font = Enum.Font.Gotham
searchBox.TextSize = 14
searchBox.TextColor3 = Color3.fromRGB(255,255,255)
searchBox.TextXAlignment = Enum.TextXAlignment.Left
searchBox.ClearTextOnFocus = false
searchBox.Parent = playersListFrame
Instance.new("UICorner", searchBox).CornerRadius = UDim.new(0, 8)
Instance.new("UIPadding", searchBox).PaddingLeft = UDim.new(0, 10)

local playersList = Instance.new("ScrollingFrame")
playersList.Size = UDim2.new(1, -16, 1, -92)
playersList.Position = UDim2.new(0, 8, 0, 86)
playersList.CanvasSize = UDim2.new(0,0,0,0)
playersList.ScrollBarThickness = 6
playersList.BackgroundColor3 = Color3.fromRGB(5,5,12)
playersList.BorderSizePixel = 0
playersList.Parent = playersListFrame
Instance.new("UICorner", playersList).CornerRadius = UDim.new(0,10)
local playersLayout = Instance.new("UIListLayout", playersList)
playersLayout.Padding = UDim.new(0,6)

local actionsFrame = Instance.new("Frame")
actionsFrame.Size = UDim2.new(0.48, 0, 1, 0)
actionsFrame.Position = UDim2.new(0.52, 0, 0, 0)
actionsFrame.BackgroundColor3 = Color3.fromRGB(15,15,25)
actionsFrame.Parent = playersPage
Instance.new("UICorner", actionsFrame).CornerRadius = UDim.new(0, 12)
Instance.new("UIStroke", actionsFrame).Color = Color3.fromRGB(45,45,55)

local selectedPlayerTitle = Instance.new("TextLabel")
selectedPlayerTitle.BackgroundTransparency = 1
selectedPlayerTitle.Size = UDim2.new(1, 0, 0, 40)
selectedPlayerTitle.Font = Enum.Font.GothamBold
selectedPlayerTitle.TextSize = 17
selectedPlayerTitle.TextColor3 = Color3.fromRGB(255,255,255)
selectedPlayerTitle.Text = "SELECIONE UM JOGADOR"
selectedPlayerTitle.Parent = actionsFrame

local actionsScroll = Instance.new("ScrollingFrame")
actionsScroll.Size = UDim2.new(1, -24, 1, -52)
actionsScroll.Position = UDim2.new(0, 12, 0, 46)
actionsScroll.BackgroundTransparency = 1
actionsScroll.BorderSizePixel = 0
actionsScroll.ScrollBarThickness = 6
actionsScroll.CanvasSize = UDim2.new(0,0,0,0)
actionsScroll.AutomaticCanvasSize = Enum.AutomaticSize.Y
actionsScroll.Parent = actionsFrame
local actionsLayout = Instance.new("UIListLayout", actionsScroll)
actionsLayout.Padding = UDim.new(0,10)

local function createActionButton(text, color, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 50)
    btn.Text = text
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 16
    btn.BackgroundColor3 = color
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.Parent = actionsScroll
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 12)
    btn.MouseButton1Click:Connect(function()
        if selectedPlayer then callback(selectedPlayer) end
    end)
    return btn
end

createActionButton("üìç TELEPORTAR PARA JOGADOR", Color3.fromRGB(0,160,90), instantTPTo)
createActionButton("üëÅÔ∏è ESPECTAR JOGADOR", Color3.fromRGB(160,120,0), startSpectate)
createActionButton("üîÑ PARAR DE ESPECTAR", Color3.fromRGB(200,50,50), stopSpectate)
createActionButton("üë§ VER PERFIL DO JOGADOR", Color3.fromRGB(100,100,200), function(p)
    game:GetService("GuiService"):InspectPlayerFromUserId(p.UserId)
end)
createActionButton("‚ûï ADICIONAR COMO AMIGO", Color3.fromRGB(50,150,50), function(p)
    LocalPlayer:RequestFriendship(p)
end)

local function createPlayerButton(player)
    if not player or player == LocalPlayer then return end
    local btn = Instance.new("TextButton")
    btn.Name = player.Name
    btn.Size = UDim2.new(1, -12, 0, 55)
    btn.BackgroundColor3 = Color3.fromRGB(25,25,35)
    btn.Text = ""
    btn.Parent = playersList
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 10)
    
    local avatar = Instance.new("ImageLabel")
    avatar.Size = UDim2.new(0, 40, 0, 40)
    avatar.Position = UDim2.new(0, 8, 0, 7)
    avatar.BackgroundColor3 = Color3.fromRGB(50,50,60)
    avatar.Image = "https://www.roblox.com/headshot-thumbnail/image?userId="..player.UserId.."&width=48&height=48&format=png"
    avatar.Parent = btn
    Instance.new("UICorner", avatar).CornerRadius = UDim.new(1, 0)
    
    local nameLbl = Instance.new("TextLabel")
    nameLbl.BackgroundTransparency = 1
    nameLbl.Size = UDim2.new(1, -60, 0, 25)
    nameLbl.Position = UDim2.new(0, 55, 0, 8)
    nameLbl.Font = Enum.Font.GothamBold
    nameLbl.TextSize = 16
    nameLbl.TextColor3 = Color3.fromRGB(255,255,255)
    nameLbl.TextXAlignment = Enum.TextXAlignment.Left
    nameLbl.Text = player.Name
    nameLbl.Parent = btn
    
    local statusLbl = Instance.new("TextLabel")
    statusLbl.BackgroundTransparency = 1
    statusLbl.Size = UDim2.new(1, -60, 0, 18)
    statusLbl.Position = UDim2.new(0, 55, 0, 30)
    statusLbl.Font = Enum.Font.Gotham
    statusLbl.TextSize = 12
    statusLbl.TextColor3 = Color3.fromRGB(150,150,160)
    statusLbl.TextXAlignment = Enum.TextXAlignment.Left
    statusLbl.Text = "ID: "..player.UserId
    statusLbl.Parent = btn
    
    local indicator = Instance.new("Frame")
    indicator.Size = UDim2.new(0, 4, 1, -14)
    indicator.Position = UDim2.new(0, 2, 0, 7)
    indicator.BackgroundColor3 = Color3.fromRGB(139, 92, 246)
    indicator.Visible = false
    indicator.Parent = btn
    Instance.new("UICorner", indicator).CornerRadius = UDim.new(1, 0)
    
    btn.MouseButton1Click:Connect(function()
        for _, button in pairs(playerButtons) do
            if button:IsA("TextButton") and button:FindFirstChild("Frame") then
                button.Frame.Visible = false
                button.BackgroundColor3 = Color3.fromRGB(25,25,35)
            end
        end
        indicator.Visible = true
        btn.BackgroundColor3 = Color3.fromRGB(35,35,50)
        selectedPlayer = player
        selectedPlayerTitle.Text = "‚öôÔ∏è A√á√ïES: " .. player.Name
    end)
    
    playerButtons[player] = btn
end

local function updatePlayersList()
    for _, child in ipairs(playersList:GetChildren()) do
        if child:IsA("TextButton") then child:Destroy() end
    end
    playerButtons = {}
    local searchText = searchBox.Text:lower()
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            if searchText == "" or player.Name:lower():find(searchText, 1, true) then
                createPlayerButton(player)
            end
        end
    end
    playersList.CanvasSize = UDim2.new(0, 0, 0, playersLayout.AbsoluteContentSize.Y + 12)
end

searchBox:GetPropertyChangedSignal("Text"):Connect(updatePlayersList)

-- P√ÅGINA MOVIMENTO
movementPage:FindFirstChildOfClass("UIListLayout"):Destroy()

local topRow = Instance.new("Frame")
topRow.Size = UDim2.new(1, 0, 0, 200)
topRow.BackgroundTransparency = 1
topRow.Parent = movementPage

local speedCard = Instance.new("Frame")
speedCard.Size = UDim2.new(0.48, -5, 1, 0)
speedCard.BackgroundColor3 = Color3.fromRGB(15,15,25)
speedCard.Parent = topRow
Instance.new("UICorner", speedCard).CornerRadius = UDim.new(0, 12)
local speedStroke = Instance.new("UIStroke", speedCard)
speedStroke.Color = Color3.fromRGB(255, 200, 0)
speedStroke.Thickness = 2
speedStroke.Transparency = 0.5

local speedIcon = Instance.new("TextLabel")
speedIcon.Size = UDim2.new(0, 40, 0, 40)
speedIcon.Position = UDim2.new(0, 12, 0, 12)
speedIcon.BackgroundColor3 = Color3.fromRGB(255, 200, 0)
speedIcon.BackgroundTransparency = 0.8
speedIcon.Text = "üèÉ"
speedIcon.Font = Enum.Font.GothamBold
speedIcon.TextSize = 22
speedIcon.TextColor3 = Color3.fromRGB(255,255,255)
speedIcon.Parent = speedCard
Instance.new("UICorner", speedIcon).CornerRadius = UDim.new(0, 10)

local speedTitle = Instance.new("TextLabel")
speedTitle.Size = UDim2.new(1, -140, 0, 20)
speedTitle.Position = UDim2.new(0, 60, 0, 15)
speedTitle.BackgroundTransparency = 1
speedTitle.Font = Enum.Font.GothamBold
speedTitle.TextSize = 15
speedTitle.TextColor3 = Color3.fromRGB(255,255,255)
speedTitle.TextXAlignment = Enum.TextXAlignment.Left
speedTitle.Text = "VELOCIDADE"
speedTitle.Parent = speedCard

local speedToggle = Instance.new("TextButton")
speedToggle.Size = UDim2.new(0, 100, 0, 32)
speedToggle.Position = UDim2.new(1, -110, 0, 14)
speedToggle.Text = "ATIVAR"
speedToggle.Font = Enum.Font.GothamBold
speedToggle.TextSize = 13
speedToggle.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
speedToggle.TextColor3 = Color3.fromRGB(255,255,255)
speedToggle.Parent = speedCard
Instance.new("UICorner", speedToggle).CornerRadius = UDim.new(0, 8)

speedToggle.MouseButton1Click:Connect(function()
    speedBoostActive = not speedBoostActive
    speedToggle.Text = speedBoostActive and "DESATIVAR" or "ATIVAR"
    speedToggle.BackgroundColor3 = speedBoostActive and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(200, 50, 50)
    
    if speedBoostActive then
        speedConnection = RunService.Heartbeat:Connect(function()
            local char = LocalPlayer.Character
            if char then
                local hum = char:FindFirstChildOfClass("Humanoid")
                if hum then hum.WalkSpeed = currentSpeed end
            end
        end)
    else
        if speedConnection then speedConnection:Disconnect() end
        local char = LocalPlayer.Character
        if char then
            local hum = char:FindFirstChildOfClass("Humanoid")
            if hum then hum.WalkSpeed = 16 end
        end
    end
end)

local function createSliderSpeed(parent, yPos)
    local speeds = {16, 25, 35, 50, 75, 100, 150, 200, 300, 500}
    local currentIndex = 1
    
    local valueLabel = Instance.new("TextLabel")
    valueLabel.Size = UDim2.new(0, 60, 0, 25)
    valueLabel.Position = UDim2.new(0, 10, 0, yPos)
    valueLabel.BackgroundColor3 = Color3.fromRGB(120, 80, 220)
    valueLabel.Font = Enum.Font.GothamBold
    valueLabel.TextSize = 14
    valueLabel.TextColor3 = Color3.fromRGB(255,255,255)
    valueLabel.Text = "16"
    valueLabel.Parent = parent
    Instance.new("UICorner", valueLabel).CornerRadius = UDim.new(0, 6)
    
    local btnPrev = Instance.new("TextButton")
    btnPrev.Size = UDim2.new(0, 50, 0, 25)
    btnPrev.Position = UDim2.new(0, 80, 0, yPos)
    btnPrev.Text = "<"
    btnPrev.Font = Enum.Font.GothamBold
    btnPrev.TextSize = 16
    btnPrev.BackgroundColor3 = Color3.fromRGB(120, 80, 220)
    btnPrev.TextColor3 = Color3.fromRGB(255,255,255)
    btnPrev.Parent = parent
    Instance.new("UICorner", btnPrev).CornerRadius = UDim.new(0, 6)
    
    local btnNext = Instance.new("TextButton")
    btnNext.Size = UDim2.new(0, 50, 0, 25)
    btnNext.Position = UDim2.new(1, -60, 0, yPos)
    btnNext.Text = ">"
    btnNext.Font = Enum.Font.GothamBold
    btnNext.TextSize = 16
    btnNext.BackgroundColor3 = Color3.fromRGB(120, 80, 220)
    btnNext.TextColor3 = Color3.fromRGB(255,255,255)
    btnNext.Parent = parent
    Instance.new("UICorner", btnNext).CornerRadius = UDim.new(0, 6)
    
    local speedBar = Instance.new("Frame")
    speedBar.Size = UDim2.new(1, -200, 0, 8)
    speedBar.Position = UDim2.new(0, 140, 0, yPos + 8)
    speedBar.BackgroundColor3 = Color3.fromRGB(40,40,50)
    speedBar.Parent = parent
    Instance.new("UICorner", speedBar).CornerRadius = UDim.new(1, 0)
    
    local speedFill = Instance.new("Frame")
    speedFill.Size = UDim2.new(0.1, 0, 1, 0)
    speedFill.BackgroundColor3 = Color3.fromRGB(120, 80, 220)
    speedFill.Parent = speedBar
    Instance.new("UICorner", speedFill).CornerRadius = UDim.new(1, 0)
    
    btnPrev.MouseButton1Click:Connect(function()
        if currentIndex > 1 then
            currentIndex = currentIndex - 1
            currentSpeed = speeds[currentIndex]
            valueLabel.Text = tostring(currentSpeed)
            speedFill.Size = UDim2.new(currentIndex / #speeds, 0, 1, 0)
            if speedBoostActive then
                local char = LocalPlayer.Character
                if char then
                    local hum = char:FindFirstChildOfClass("Humanoid")
                    if hum then hum.WalkSpeed = currentSpeed end
                end
            end
        end
    end)
    
    btnNext.MouseButton1Click:Connect(function()
        if currentIndex < #speeds then
            currentIndex = currentIndex + 1
            currentSpeed = speeds[currentIndex]
            valueLabel.Text = tostring(currentSpeed)
            speedFill.Size = UDim2.new(currentIndex / #speeds, 0, 1, 0)
            if speedBoostActive then
                local char = LocalPlayer.Character
                if hum then hum.WalkSpeed = currentSpeed end
                end
            end
        end
    end)
end

createSliderSpeed(speedCard, 100)

local flyCard = Instance.new("Frame")
flyCard.Size = UDim2.new(0.48, -5, 1, 0)
flyCard.Position = UDim2.new(0.52, 0, 0, 0)
flyCard.BackgroundColor3 = Color3.fromRGB(15,15,25)
flyCard.Parent = topRow
Instance.new("UICorner", flyCard).CornerRadius = UDim.new(0, 12)
local flyStroke = Instance.new("UIStroke", flyCard)
flyStroke.Color = Color3.fromRGB(0, 120, 255)
flyStroke.Thickness = 2
flyStroke.Transparency = 0.5

local flyIcon = Instance.new("TextLabel")
flyIcon.Size = UDim2.new(0, 40, 0, 40)
flyIcon.Position = UDim2.new(0, 12, 0, 12)
flyIcon.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
flyIcon.BackgroundTransparency = 0.8
flyIcon.Text = "‚úàÔ∏è"
flyIcon.Font = Enum.Font.GothamBold
flyIcon.TextSize = 20
flyIcon.TextColor3 = Color3.fromRGB(255,255,255)
flyIcon.Parent = flyCard
Instance.new("UICorner", flyIcon).CornerRadius = UDim.new(0, 10)

local flyTitle = Instance.new("TextLabel")
flyTitle.Size = UDim2.new(1, -70, 0, 20)
flyTitle.Position = UDim2.new(0, 60, 0, 15)
flyTitle.BackgroundTransparency = 1
flyTitle.Font = Enum.Font.GothamBold
flyTitle.TextSize = 15
flyTitle.TextColor3 = Color3.fromRGB(255,255,255)
flyTitle.TextXAlignment = Enum.TextXAlignment.Left
flyTitle.Text = "SISTEMA DE VOO"
flyTitle.Parent = flyCard

local flyToggle = Instance.new("TextButton")
flyToggle.Size = UDim2.new(0.48, -5, 0, 35)
flyToggle.Position = UDim2.new(0, 12, 0, 145)
flyToggle.Text = "üöÄ FLY: OFF"
flyToggle.Font = Enum.Font.GothamBold
flyToggle.TextSize = 13
flyToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
flyToggle.TextColor3 = Color3.fromRGB(255,255,255)
flyToggle.Parent = flyCard
Instance.new("UICorner", flyToggle).CornerRadius = UDim.new(0, 10)
flyToggle.MouseButton1Click:Connect(function()
    FlySystem:toggleFly()
    flyToggle.Text = FlySystem.flying and "FLY: ON" or "FLY: OFF"
    flyToggle.BackgroundColor3 = FlySystem.flying and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

local noclipToggle = Instance.new("TextButton")
noclipToggle.Size = UDim2.new(0.48, -5, 0, 35)
noclipToggle.Position = UDim2.new(0.52, 0, 0, 145)
noclipToggle.Text = "üå´Ô∏è NOCLIP: OFF"
noclipToggle.Font = Enum.Font.GothamBold
noclipToggle.TextSize = 13
noclipToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
noclipToggle.TextColor3 = Color3.fromRGB(255,255,255)
noclipToggle.Parent = flyCard
Instance.new("UICorner", noclipToggle).CornerRadius = UDim.new(0, 10)
noclipToggle.MouseButton1Click:Connect(function()
    FlySystem:toggleNoclip()
    noclipToggle.Text = FlySystem.noclip and "NOCLIP: ON" or "NOCLIP: OFF"
    noclipToggle.BackgroundColor3 = FlySystem.noclip and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

local infoCard = Instance.new("Frame")
infoCard.Size = UDim2.new(1, 0, 0, 110)
infoCard.Position = UDim2.new(0, 0, 0, 210)
infoCard.BackgroundColor3 = Color3.fromRGB(15,15,25)
infoCard.Parent = movementPage
Instance.new("UICorner", infoCard).CornerRadius = UDim.new(0, 12)
local infoStroke = Instance.new("UIStroke", infoCard)
infoStroke.Color = Color3.fromRGB(255, 200, 0)
infoStroke.Thickness = 2
infoStroke.Transparency = 0.7

local infoIcon = Instance.new("TextLabel")
infoIcon.Size = UDim2.new(0, 40, 0, 40)
infoIcon.Position = UDim2.new(0, 12, 0, 12)
infoIcon.BackgroundColor3 = Color3.fromRGB(255, 200, 0)
infoIcon.BackgroundTransparency = 0.8
infoIcon.Text = "‚ÑπÔ∏è"
infoIcon.Font = Enum.Font.GothamBold
infoIcon.TextSize = 20
infoIcon.TextColor3 = Color3.fromRGB(255,255,255)
infoIcon.Parent = infoCard
Instance.new("UICorner", infoIcon).CornerRadius = UDim.new(0, 10)

local infoTitle = Instance.new("TextLabel")
infoTitle.Size = UDim2.new(1, -70, 0, 20)
infoTitle.Position = UDim2.new(0, 60, 0, 15)
infoTitle.BackgroundTransparency = 1
infoTitle.Font = Enum.Font.GothamBold
infoTitle.TextSize = 15
infoTitle.TextColor3 = Color3.fromRGB(255,255,255)
infoTitle.TextXAlignment = Enum.TextXAlignment.Left
infoTitle.Text = "CONTROLES"
infoTitle.Parent = infoCard

local infoText = Instance.new("TextLabel")
infoText.Size = UDim2.new(1, -24, 0, 60)
infoText.Position = UDim2.new(0, 12, 0, 45)
infoText.BackgroundTransparency = 1
infoText.Font = Enum.Font.Gotham
infoText.TextSize = 12
infoText.TextColor3 = Color3.fromRGB(180,180,200)
infoText.TextWrapped = true
infoText.TextXAlignment = Enum.TextXAlignment.Left
infoText.TextYAlignment = Enum.TextYAlignment.Top
infoText.Text = "‚Ä¢ F: Ativar/Desativar Fly\n‚Ä¢ WASD: Movimento | Space: Subir | Ctrl: Descer\n‚Ä¢ Noclip permite atravessar paredes"
infoText.Parent = infoCard

-- P√ÅGINA AIMBOT (Simplificada)
aimbotPage:FindFirstChildOfClass("UIListLayout"):Destroy()
local aimbotCard = Instance.new("Frame")
aimbotCard.Size = UDim2.new(1, 0, 0, 200)
aimbotCard.BackgroundColor3 = Color3.fromRGB(15,15,25)
aimbotCard.Parent = aimbotPage
Instance.new("UICorner", aimbotCard).CornerRadius = UDim.new(0, 12)

local aimbotToggle = Instance.new("TextButton")
aimbotToggle.Size = UDim2.new(0, 100, 0, 32)
aimbotToggle.Position = UDim2.new(1, -110, 0, 14)
aimbotToggle.Text = "OFF"
aimbotToggle.Font = Enum.Font.GothamBold
aimbotToggle.TextSize = 13
aimbotToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
aimbotToggle.TextColor3 = Color3.fromRGB(255,255,255)
aimbotToggle.Parent = aimbotCard
Instance.new("UICorner", aimbotToggle).CornerRadius = UDim.new(0, 10)
aimbotToggle.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    aimbotToggle.Text = aimbotEnabled and "ON" or "OFF"
    aimbotToggle.BackgroundColor3 = aimbotEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

-- P√ÅGINA CLICKER (Simplificada)
clickerPage:FindFirstChildOfClass("UIListLayout"):Destroy()
local clickerCard = Instance.new("Frame")
clickerCard.Size = UDim2.new(1, 0, 0, 150)
clickerCard.BackgroundColor3 = Color3.fromRGB(15,15,25)
clickerCard.Parent = clickerPage
Instance.new("UICorner", clickerCard).CornerRadius = UDim.new(0, 12)

local clickerToggle = Instance.new("TextButton")
clickerToggle.Size = UDim2.new(0, 100, 0, 32)
clickerToggle.Position = UDim2.new(1, -110, 0, 14)
clickerToggle.Text = "OFF"
clickerToggle.Font = Enum.Font.GothamBold
clickerToggle.TextSize = 13
clickerToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
clickerToggle.TextColor3 = Color3.fromRGB(255,255,255)
clickerToggle.Parent = clickerCard
Instance.new("UICorner", clickerToggle).CornerRadius = UDim.new(0, 10)
clickerToggle.MouseButton1Click:Connect(function()
    autoClickerEnabled = not autoClickerEnabled
    clickerToggle.Text = autoClickerEnabled and "ON" or "OFF"
    clickerToggle.BackgroundColor3 = autoClickerEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

-- P√ÅGINA VISION (Simplificada)
visionPage:FindFirstChildOfClass("UIListLayout"):Destroy()
local espCard = Instance.new("Frame")
espCard.Size = UDim2.new(1, 0, 0, 140)
espCard.BackgroundColor3 = Color3.fromRGB(15,15,25)
espCard.Parent = visionPage
Instance.new("UICorner", espCard).CornerRadius = UDim.new(0, 12)

local espToggle = Instance.new("TextButton")
espToggle.Size = UDim2.new(0, 80, 0, 28)
espToggle.Position = UDim2.new(1, -90, 0, 12)
espToggle.Text = "ON"
espToggle.Font = Enum.Font.GothamBold
espToggle.TextSize = 12
espToggle.BackgroundColor3 = Color3.fromRGB(0, 160, 90)
espToggle.TextColor3 = Color3.fromRGB(255,255,255)
espToggle.Parent = espCard
Instance.new("UICorner", espToggle).CornerRadius = UDim.new(0, 8)
espToggle.MouseButton1Click:Connect(function()
    espEnabled = not espEnabled
    espToggle.Text = espEnabled and "ON" or "OFF"
    espToggle.BackgroundColor3 = espEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)

local function updateESP()
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local char = player.Character
            local highlight = espHighlights[player]
            
            if not highlight then
                highlight = Instance.new("Highlight")
                highlight.Adornee = char
                highlight.FillTransparency = 0.5
                highlight.OutlineTransparency = 0
                highlight.Parent = char
                espHighlights[player] = highlight
            end
            
            if espMode == "TEAM" then
                if isSameTeam(player) then
                    highlight.FillColor = Color3.fromRGB(0, 150, 255)
                    highlight.OutlineColor = Color3.fromRGB(0, 150, 255)
                else
                    highlight.FillColor = Color3.fromRGB(255, 0, 0)
                    highlight.OutlineColor = Color3.fromRGB(255, 0, 0)
                end
            end
            highlight.Enabled = espEnabled
        end
    end
end

RunService.Heartbeat:Connect(function()
    if espEnabled then updateESP() end
end)

-- P√ÅGINA MISC (Simplificada)
local miscTopRow = Instance.new("Frame")
miscTopRow.Size = UDim2.new(1, 0, 0, 180)
miscTopRow.BackgroundTransparency = 1
miscTopRow.Parent = miscPage

local characterCard = Instance.new("Frame")
characterCard.Size = UDim2.new(0.48, -5, 1, 0)
characterCard.BackgroundColor3 = Color3.fromRGB(15,15,25)
characterCard.Parent = miscTopRow
Instance.new("UICorner", characterCard).CornerRadius = UDim.new(0, 12)

local godmodeBtn = Instance.new("TextButton")
godmodeBtn.Size = UDim2.new(1, -24, 0, 38)
godmodeBtn.Position = UDim2.new(0, 12, 0, 60)
godmodeBtn.Text = "üõ°Ô∏è GODMODE"
godmodeBtn.Font = Enum.Font.GothamBold
godmodeBtn.TextSize = 13
godmodeBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
godmodeBtn.TextColor3 = Color3.fromRGB(255,255,255)
godmodeBtn.Parent = characterCard
Instance.new("UICorner", godmodeBtn).CornerRadius = UDim.new(0, 8)
local godmodeEnabled = false
godmodeBtn.MouseButton1Click:Connect(function()
    godmodeEnabled = not godmodeEnabled
    godmodeBtn.Text = godmodeEnabled and "üõ°Ô∏è ON" or "üõ°Ô∏è GODMODE"
    godmodeBtn.BackgroundColor3 = godmodeEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
    if LocalPlayer.Character then
        local hum = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if hum and godmodeEnabled then
            hum.MaxHealth = math.huge
            hum.Health = math.huge
        end
    end
end)

local infJumpBtn = Instance.new("TextButton")
infJumpBtn.Size = UDim2.new(0.48, -5, 0, 38)
infJumpBtn.Position = UDim2.new(0, 12, 0, 108)
infJumpBtn.Text = "ü¶ò INF JUMP"
infJumpBtn.Font = Enum.Font.GothamBold
infJumpBtn.TextSize = 12
infJumpBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
infJumpBtn.TextColor3 = Color3.fromRGB(255,255,255)
infJumpBtn.Parent = characterCard
Instance.new("UICorner", infJumpBtn).CornerRadius = UDim.new(0, 8)
local infJumpEnabled = false
infJumpBtn.MouseButton1Click:Connect(function()
    infJumpEnabled = not infJumpEnabled
    infJumpBtn.Text = infJumpEnabled and "ü¶ò ON" or "ü¶ò INF JUMP"
    infJumpBtn.BackgroundColor3 = infJumpEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
end)
UserInputService.JumpRequest:Connect(function()
    if infJumpEnabled and LocalPlayer.Character then
        local hum = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if hum then hum:ChangeState(Enum.HumanoidStateType.Jumping) end
    end
end)

local utilityCard = Instance.new("Frame")
utilityCard.Size = UDim2.new(0.48, -5, 1, 0)
utilityCard.Position = UDim2.new(0.52, 0, 0, 0)
utilityCard.BackgroundColor3 = Color3.fromRGB(15,15,25)
utilityCard.Parent = miscTopRow
Instance.new("UICorner", utilityCard).CornerRadius = UDim.new(0, 12)

local antiAfkBtn = Instance.new("TextButton")
antiAfkBtn.Size = UDim2.new(1, -24, 0, 38)
antiAfkBtn.Position = UDim2.new(0, 12, 0, 60)
antiAfkBtn.Text = "‚è∞ ANTI-AFK"
antiAfkBtn.Font = Enum.Font.GothamBold
antiAfkBtn.TextSize = 13
antiAfkBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
antiAfkBtn.TextColor3 = Color3.fromRGB(255,255,255)
antiAfkBtn.Parent = utilityCard
Instance.new("UICorner", antiAfkBtn).CornerRadius = UDim.new(0, 8)
local antiAfkEnabled = false
antiAfkBtn.MouseButton1Click:Connect(function()
    antiAfkEnabled = not antiAfkEnabled
    antiAfkBtn.Text = antiAfkEnabled and "‚è∞ ON" or "‚è∞ ANTI-AFK"
    antiAfkBtn.BackgroundColor3 = antiAfkEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
    if antiAfkEnabled then
        LocalPlayer.Idled:Connect(function()
            game:GetService("VirtualUser"):ClickButton2(Vector2.new())
        end)
    end
end)

local removeBlurBtn = Instance.new("TextButton")
removeBlurBtn.Size = UDim2.new(0.48, -5, 0, 38)
removeBlurBtn.Position = UDim2.new(0, 12, 0, 108)
removeBlurBtn.Text = "üå´Ô∏è BLUR"
removeBlurBtn.Font = Enum.Font.GothamBold
removeBlurBtn.TextSize = 12
removeBlurBtn.BackgroundColor3 = Color3.fromRGB(100, 50, 150)
removeBlurBtn.TextColor3 = Color3.fromRGB(255,255,255)
removeBlurBtn.Parent = utilityCard
Instance.new("UICorner", removeBlurBtn).CornerRadius = UDim.new(0, 8)
removeBlurBtn.MouseButton1Click:Connect(function()
    for _, obj in pairs(game:GetService("Lighting"):GetChildren()) do
        if obj:IsA("BlurEffect") or obj:IsA("BloomEffect") or obj:IsA("ColorCorrectionEffect") then
            obj:Destroy()
        end
    end
end)

local chatSpamBtn = Instance.new("TextButton")
chatSpamBtn.Size = UDim2.new(0.48, -5, 0, 38)
chatSpamBtn.Position = UDim2.new(0.52, 0, 0, 108)
chatSpamBtn.Text = "üí¨ SPAM"
chatSpamBtn.Font = Enum.Font.GothamBold
chatSpamBtn.TextSize = 12
chatSpamBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
chatSpamBtn.TextColor3 = Color3.fromRGB(255,255,255)
chatSpamBtn.Parent = utilityCard
Instance.new("UICorner", chatSpamBtn).CornerRadius = UDim.new(0, 8)
local chatSpamEnabled = false
local chatSpamConnection
chatSpamBtn.MouseButton1Click:Connect(function()
    chatSpamEnabled = not chatSpamEnabled
    chatSpamBtn.Text = chatSpamEnabled and "üí¨ ON" or "üí¨ SPAM"
    chatSpamBtn.BackgroundColor3 = chatSpamEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
    if chatSpamEnabled then
        chatSpamConnection = RunService.Heartbeat:Connect(function()
            pcall(function()
                game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer("Admin Panel PRO", "All")
            end)
            task.wait(2)
        end)
    else
        if chatSpamConnection then chatSpamConnection:Disconnect() end
    end
end)

local infoCard2 = Instance.new("Frame")
infoCard2.Size = UDim2.new(1, 0, 0, 110)
infoCard2.Position = UDim2.new(0, 0, 0, 190)
infoCard2.BackgroundColor3 = Color3.fromRGB(15,15,25)
infoCard2.Parent = miscPage
Instance.new("UICorner", infoCard2).CornerRadius = UDim.new(0, 12)

local infoText2 = Instance.new("TextLabel")
infoText2.Size = UDim2.new(1, -24, 0, 60)
infoText2.Position = UDim2.new(0, 12, 0, 45)
infoText2.BackgroundTransparency = 1
infoText2.Font = Enum.Font.Gotham
infoText2.TextSize = 12
infoText2.TextColor3 = Color3.fromRGB(180,180,200)
infoText2.TextWrapped = true
infoText2.TextXAlignment = Enum.TextXAlignment.Left
infoText2.TextYAlignment = Enum.TextYAlignment.Top
infoText2.Text = "‚Ä¢ M: Abrir/Fechar painel | ‚Ä¢ F: Toggle Fly r√°pido | ‚Ä¢ P: Destravar mouse\n‚Ä¢ WASD: Movimento | ‚Ä¢ Space: Subir | ‚Ä¢ Ctrl: Descer"
infoText2.Parent = infoCard2

-- Sistema de Tabs
local function setTab(which)
    tabPlayers.BackgroundColor3 = Color3.fromRGB(20,20,30)
    tabPlayers.TextColor3 = Color3.fromRGB(200,200,220)
    tabMovement.BackgroundColor3 = Color3.fromRGB(20,20,30)
    tabMovement.TextColor3 = Color3.fromRGB(200,200,220)
    tabAimbot.BackgroundColor3 = Color3.fromRGB(20,20,30)
    tabAimbot.TextColor3 = Color3.fromRGB(200,200,220)
    tabClicker.BackgroundColor3 = Color3.fromRGB(20,20,30)
    tabClicker.TextColor3 = Color3.fromRGB(200,200,220)
    tabVision.BackgroundColor3 = Color3.fromRGB(20,20,30)
    tabVision.TextColor3 = Color3.fromRGB(200,200,220)
    tabMisc.BackgroundColor3 = Color3.fromRGB(20,20,30)
    tabMisc.TextColor3 = Color3.fromRGB(200,200,220)
    playersPage.Visible=false; movementPage.Visible=false; aimbotPage.Visible=false; clickerPage.Visible=false; visionPage.Visible=false; miscPage.Visible=false
    
    if which=="PLAYERS" then 
        tabPlayers.BackgroundColor3=Color3.fromRGB(0, 120, 255)
        tabPlayers.TextColor3=Color3.fromRGB(255,255,255)
        playersPage.Visible=true
    elseif which=="MOVEMENT" then 
        tabMovement.BackgroundColor3=Color3.fromRGB(0, 120, 255)
        tabMovement.TextColor3=Color3.fromRGB(255,255,255)
        movementPage.Visible=true
    elseif which=="AIMBOT" then 
        tabAimbot.BackgroundColor3=Color3.fromRGB(0, 120, 255)
        tabAimbot.TextColor3=Color3.fromRGB(255,255,255)
        aimbotPage.Visible=true
    elseif which=="CLICKER" then 
        tabClicker.BackgroundColor3=Color3.fromRGB(0, 120, 255)
        tabClicker.TextColor3=Color3.fromRGB(255,255,255)
        clickerPage.Visible=true
    elseif which=="VISION" then 
        tabVision.BackgroundColor3=Color3.fromRGB(0, 120, 255)
        tabVision.TextColor3=Color3.fromRGB(255,255,255)
        visionPage.Visible=true
    else 
        tabMisc.BackgroundColor3=Color3.fromRGB(0, 120, 255)
        tabMisc.TextColor3=Color3.fromRGB(255,255,255)
        miscPage.Visible=true 
    end
end

tabPlayers.MouseButton1Click:Connect(function() setTab("PLAYERS") end)
tabMovement.MouseButton1Click:Connect(function() setTab("MOVEMENT") end)
tabAimbot.MouseButton1Click:Connect(function() setTab("AIMBOT") end)
tabClicker.MouseButton1Click:Connect(function() setTab("CLICKER") end)
tabVision.MouseButton1Click:Connect(function() setTab("VISION") end)
tabMisc.MouseButton1Click:Connect(function() setTab("MISC") end)

closeBtn.MouseButton1Click:Connect(function() 
    frame.Visible = false
    panelVisible = false
    if prevMouseBehavior then UserInputService.MouseBehavior = prevMouseBehavior end
    if prevMouseIconEnabled ~= nil then UserInputService.MouseIconEnabled = prevMouseIconEnabled end
end)

local function showPanel(show)
    if panelVisible == show then return end
    panelVisible = show
    frame.Visible = show
    if show then
        prevMouseBehavior = UserInputService.MouseBehavior
        prevMouseIconEnabled = UserInputService.MouseIconEnabled
        UserInputService.MouseBehavior = Enum.MouseBehavior.Default
        UserInputService.MouseIconEnabled = true
        updatePlayersList()
    else
        if prevMouseBehavior then UserInputService.MouseBehavior = prevMouseBehavior end
        if prevMouseIconEnabled ~= nil then UserInputService.MouseIconEnabled = prevMouseIconEnabled end
    end
end

-- Controles de Input
UserInputService.InputBegan:Connect(function(input, processed)
    if processed then return end
    if input.KeyCode == Enum.KeyCode.M then 
        showPanel(not panelVisible)
    elseif input.KeyCode == autoClickerKey then
        autoClickerEnabled = not autoClickerEnabled
        clickerToggle.Text = autoClickerEnabled and "ON" or "OFF"
        clickerToggle.BackgroundColor3 = autoClickerEnabled and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
    elseif input.KeyCode == Enum.KeyCode.F then
        FlySystem:toggleFly()
        flyToggle.Text = FlySystem.flying and "FLY: ON" or "FLY: OFF"
        flyToggle.BackgroundColor3 = FlySystem.flying and Color3.fromRGB(0, 160, 90) or Color3.fromRGB(60, 60, 70)
    elseif input.KeyCode == Enum.KeyCode.P then
        UserInputService.MouseBehavior = Enum.MouseBehavior.Default
        UserInputService.MouseIconEnabled = true
    else
        if aimbotEnabled then
            if (aimbotKey == Enum.UserInputType.MouseButton2 and input.UserInputType == Enum.UserInputType.MouseButton2) or
               (aimbotKey == Enum.UserInputType.MouseButton1 and input.UserInputType == Enum.UserInputType.MouseButton1) or
               (input.KeyCode == aimbotKey) then
                aimbotKeyPressed = true
            end
        end
    end
end)

UserInputService.InputEnded:Connect(function(input, gpe)
    if aimbotEnabled then
        if (aimbotKey == Enum.UserInputType.MouseButton2 and input.UserInputType == Enum.UserInputType.MouseButton2) or
           (aimbotKey == Enum.UserInputType.MouseButton1 and input.UserInputType == Enum.UserInputType.MouseButton1) or
           (input.KeyCode == aimbotKey) then
            aimbotKeyPressed = false
        end
    end
end)

-- Eventos de Jogadores
Players.PlayerAdded:Connect(function(p) task.wait(0.5); updatePlayersList() end)
Players.PlayerRemoving:Connect(function(p)
    if playerButtons[p] then playerButtons[p]:Destroy(); playerButtons[p] = nil end
    if selectedPlayer == p then selectedPlayer = nil; selectedPlayerTitle.Text = "SELECIONE UM JOGADOR" end
    if spectating == p then stopSpectate() end
    if espHighlights[p] then espHighlights[p]:Destroy(); espHighlights[p] = nil end
end)

LocalPlayer.CharacterAdded:Connect(function(char)
    local hum = char:WaitForChild("Humanoid")
    hum.Died:Connect(function()
        FlySystem:disableFly()
        if flyToggle then
            flyToggle.Text = "FLY: OFF"
            flyToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
        end
    end)
end)

-- Inicializa√ß√£o
FlySystem:init()
task.wait(1)
showPanel(true)
updatePlayersList()
setTab("PLAYERS")
print("‚úÖ Admin Panel PRO carregado!")
print("üîë Pressione M para abrir/fechar o menu")
print("üéØ Tecla Aimbot: " .. aimbotKeyName)
